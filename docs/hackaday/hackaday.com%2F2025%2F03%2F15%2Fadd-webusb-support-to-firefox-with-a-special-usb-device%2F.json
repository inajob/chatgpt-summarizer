{"pubDate": "2025-03-15T23:00:55", "original_title": "Add WebUSB Support To Firefox With a Special USB Device", "link": "https://hackaday.com/2025/03/15/add-webusb-support-to-firefox-with-a-special-usb-device/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2021/11/firefox-egl-featured.jpg", "original_content": "RP2040-based Pico board acting as U2F dongle with Firefox. (Credit: ArcaneNibble, GitHub)\nThe WebUSB standard is certainly controversial. Many consider it a security risk, and, to date,\u00a0 only Chromium-based browsers support it. But there is a workaround that is, ironically, supposed to increase security. The adjacent Universal 2nd Factor (U2F) standard also adds (limited) USB support to browsers. Sure, this is meant solely to support U2F USB dongles for two-factor authentication purposes, but as [ArcaneNibble] demonstrates using U2F-compatible firmware on a Raspberry Pi RP2040, by hijacking the U2F payload, this API can be used to provide WebUSB-like functionality.\n\nThe provided demo involves flashing an RP2040 (e.g., Pico board) with the u2f-hax.u2f firmware and loading the index.html page from localhost or a similar secure context. After this, the buttons on the browser page can be used to toggle an LED on the Pico board on or off. You can also read an input back from the RP2040.\nThis feat is made possible by the opaque nature of the U2F key handle, which means that anything can be put in this blob. This makes it a snap to pass data from the U2F dongle to the host. For the inverse, things get a bit trickier. Here the ECDSA signature is manipulated inside the ASN.1 that is returned to the dongle. Since Firefox performs no signature validation (and Chrome only does a range check), this works. The MCU also auto-confirms user presence by having the key handle start with oxfeedface, so the device works without user interaction. However, you do seem to get an annoying popup that immediately goes away.\nOf course, this only works if you create a special USB device for this purpose. That means your normal USB devices are still secure. While we know it could be a security risk, you can do some cool things with WebUSB. Weve seen a few projects that use it.", "title": "RP2040\u3092\u4f7f\u3063\u305fPico\u30dc\u30fc\u30c9\u306eU2F\u30c9\u30f3\u30b0\u30eb\u5316", "body": "RP2040\u30dc\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3001U2F\u3067WebUSB\u6a5f\u80fd\u3092\u5b9f\u73fe\u3059\u308b\u30c7\u30e2\u3002", "titles": ["RP2040\u3092\u4f7f\u3063\u305fPico\u30dc\u30fc\u30c9\u306eU2F\u30c9\u30f3\u30b0\u30eb\u5316", "WebUSB\u3068U2F\u6a19\u6e96\u306e\u9023\u643a\u6280\u8853", "Firefox\u3067\u5b9f\u73fe\u3059\u308bRP2040\u306eLED\u64cd\u4f5c", "\u30bb\u30ad\u30e5\u30a2\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u306eU2F\u5fdc\u7528", "USB\u30c7\u30d0\u30a4\u30b9\u306e\u65b0\u305f\u306a\u53ef\u80fd\u6027\u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af"]}