{"pubDate": "2023-06-11T17:00:48", "original_title": "Hyundai is Doomed: Porting the 1993 Classic To a Hyundai Head Unit", "link": "https://hackaday.com/2023/06/11/hyundai-is-doomed-porting-the-1993-classic-to-a-hyundai-head-unit/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/06/hyundai_doom_featured.jpeg", "original_content": "In the natural order of the world, porting DOOM to any newly unlocked computing system is an absolute given. This a rule which [greenluigi1] understands all too well, leading to presumably the first Hyundai to be equipped with this all-time classic on its infotainment system. This follows hot on the trail of re-hacking said infotainment system and a gaggle of basic apps being developed for and run on said head unit (being the part of the infotainment system on the front dashboard). Although it is a Linux-based system, this doesnt mean that you can just recompile DOOM for it, mostly because of the rather proprietary system environment.\nTo make life easy, [greenluigi1] picked doomgeneric as the version to port. The main selling point of this project is that it only requires the developer to implement five functions to support a new platform, which then just left figuring out how to do this on a head unit. Two of these (DG_SleepMs() and DG_GetTicksMS()) could be copied verbatim from the X11/xlib port, but the remaining three required a bit of sleuthing.\nWhere things go sideways is with keeping the head units Helix window manager happy, and stick to the limited ways a GUI application can be launched, including the way arguments are passed. For the PoC, it was decided to just hardcode these arguments and only register the game with Helix using an .appconf configuration file. When it came to drawing pretty graphics on the screen, this was decidedly easier since the system uses Qt5 and thus offers the usual ways to draw to a QPixmap, which in this case maps to the framebuffer.\nAfter a few playful sessions with the head units watchdog timer, [greenluigi1] found himself staring at a blank screen, despite everything appearing to work. This turned out to be due to the alpha channel value of 0 that was being set by default, along with the need for an explicit refresh of the QPixmap. Up popped DOOM, which left just the implementation of the controls.\nIn order to start the game, you have to literally buckle up, and the steering wheel plus media control buttons are your inputs, which makes for a creative way to play, and perhaps wear some bald spots onto your tires if youre not careful. If youd like to give it a shot on your own ride, you can get the project files on GitHub.\n\n", "title": "Hyundai\u306e\u30a4\u30f3\u30d5\u30a9\u30c6\u30a4\u30f3\u30e1\u30f3\u30c8\u30b7\u30b9\u30c6\u30e0\u3067DOOM\u3092\u30d7\u30ec\u30a4\u53ef\u80fd\u306b\u3059\u308b\u65b9\u6cd5", "body": "Hyundai's infotainment system has been hacked, allowing classic game DOOM to be played on the dashboard. Developer [greenluigi1] ported the game to the Linux-based system, picking the  'doomgeneric' version to make things easier. Some coding was required to make it work via the infotainment system's Helix window manager, but the game now appears in QPixMap format on the dashboard screen, with the steering wheel and media control buttons acting as the joystick. The porting project can be viewed on GitHub.", "titles": ["Hyundai\u306e\u30a4\u30f3\u30d5\u30a9\u30c6\u30a4\u30f3\u30e1\u30f3\u30c8\u30b7\u30b9\u30c6\u30e0\u3067DOOM\u3092\u30d7\u30ec\u30a4\u53ef\u80fd\u306b\u3059\u308b\u65b9\u6cd5", "Linux\u30d9\u30fc\u30b9\u306e\u30b7\u30b9\u30c6\u30e0\u3078DOOM\u306e\u30dd\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u5fc5\u8981\u306a5\u3064\u306e\u6a5f\u80fd\u306b\u3064\u3044\u3066", "Helix\u30a6\u30a3\u30f3\u30c9\u30a6\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306e\u8d77\u52d5\u306b\u95a2\u3059\u308b\u5236\u9650", "Qt5\u3092\u4f7f\u7528\u3057\u3066Hyundai\u306e\u30a4\u30f3\u30d5\u30a9\u30c6\u30a4\u30f3\u30e1\u30f3\u30c8\u30b7\u30b9\u30c6\u30e0\u4e0a\u306bDOOM\u3092\u63cf\u753b\u3059\u308b", "\u30b9\u30c6\u30a2\u30ea\u30f3\u30b0\u3068\u30e1\u30c7\u30a3\u30a2\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30dc\u30bf\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u306aDOOM\u306e\u30d7\u30ec\u30a4\u65b9\u6cd5"]}