{"pubDate": "2025-06-26T18:30:00", "original_title": "Rust Drives a Linux USB Device", "link": "https://hackaday.com/2025/06/26/rust-drives-a-linux-usb-device/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2017/03/tux-on-htop-featured.jpg", "original_content": "In theory, writing a Linux device driver shouldnt be that hard, but it is harder than it looks. However, using libusb, you can easily deal with USB devices from user space, which, for many purposes, is fine.\u00a0 [Crescentrose] didnt know anything about writing user-space USB drivers until they wrote one and documented it for us. Oh, the code is in Rust, for which there arent as many examples.\nThe device in question was a USB hub with some extra lights and gadgets. So the real issue, it seems to us, wasnt the code, but figuring out the protocol and the USB stack. The post covers that, too, explaining configurations, interfaces, and endpoints.\nThere are other ancillary topics, too, like setting up udev. This lets you load things when a USB device (or something else) plugs in.\n\nOf course, you came for the main code. The Rust program is fairly straightforward once you have the preliminaries out of the way. The libusb library helps a lot. By the end, the code kicks off some threads, handles interrupts, and does other device-driver-like things.\nSo if you like Rust and you ever thought about a user space device driver for a USB device, this is your chance to see it done. It didnt take years. However, you can do a lot in user space.", "title": "USB\u30c7\u30d0\u30a4\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u30c9\u30e9\u30a4\u30d0\u3092Rust\u3067\u4f5c\u6210\u3059\u308b\u65b9\u6cd5", "body": "Linux\u306e\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u306f\u96e3\u3057\u3044\u304c\u3001libusb\u3067USB\u6a5f\u5668\u3092\u7c21\u5358\u306b\u6271\u3048\u308b\u3002Rust\u3067\u306e\u5b9f\u88c5\u3082\u7d39\u4ecb\u3002", "titles": ["USB\u30c7\u30d0\u30a4\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u30c9\u30e9\u30a4\u30d0\u3092Rust\u3067\u4f5c\u6210\u3059\u308b\u65b9\u6cd5", "libusb\u3092\u6d3b\u7528\u3057\u305fUSB\u30c7\u30d0\u30a4\u30b9\u3068\u306e\u7c21\u5358\u306a\u9023\u643a", "USB\u30cf\u30d6\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u89e3\u6790\u3068\u30c9\u30e9\u30a4\u30d0\u958b\u767a\u306e\u5b9f\u8df5", "udev\u8a2d\u5b9a\u3067USB\u30c7\u30d0\u30a4\u30b9\u63a5\u7d9a\u6642\u306e\u81ea\u52d5\u51e6\u7406\u3092\u5b9f\u73fe", "\u77ed\u671f\u9593\u3067\u5b66\u3076Rust\u306b\u3088\u308bUSB\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u306e\u57fa\u790e\u77e5\u8b58"]}