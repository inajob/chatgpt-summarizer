{"pubDate": "2025-07-02T14:00:50", "original_title": "Why The Latest Linux Kernel Won\u2019t Run On Your 486 And 586 Anymore", "link": "https://hackaday.com/2025/07/02/why-the-latest-linux-kernel-wont-run-on-your-486-and-586-anymore/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2025/06/OldLinux.jpg", "original_content": "Some time ago, Linus Torvalds made a throwaway comment that sent ripples through the Linux world. Was it perhaps time to abandon support for the now-ancient Intel 486? Developers had already abandoned the 386 in 2012, and Torvalds openly mused if the time was right to make further cuts for the benefit of modernity.\nIt would take three long years, but that eventuality finally came to pass. As of version 6.15, the Linux kernel will no longer support chips running the 80486 architecture, along with a gaggle of early 586 chips as well. Its all down to some housekeeping and precise technical changes that will make the new code inoperable with the machines of the past.\n\nWhy Wont It Work Anymore?\nThe kernel has had a method to emulate the CMPXCH8B instruction for some time, but it will now be deprecated.\nThe big change is coming about thanks to a patch submitted by Ingo Molnar, a long time developer on the Linux kernel. The patch slashes support for older pre-Pentium CPUs, including the Intel 486 and a wide swathe of third-party chips that fell in between the 486 and Pentium generations when it came to low-level feature support.\nGoing forward, Molnars patch reconfigures the kernel to require CPUs have hardware support for the Time Stamp Counter (RDTSC) and CMPXCHG8B instructions. These became part of x86 when Intel introduced the very first Pentium processors to the market in the early 1990s. The Time Stamp Counter is relatively easy to understand\u2014a simple 64-bit register that stores the number of cycles executed by the CPU since last reset. As for CMPXCHG8B, its used for comparing and exchanging eight bytes of data at a time. Earlier Intel CPUs got by with only the single-byte CMPXCHG instruction. The Linux kernel used to feature a piece of code to emulate CMPXCHG8B in order to ease interoperability with older chips that lacked the feature in hardware.\nThe changes remove around 15,000 lines of code. Deletions include code to emulate the CMPXCHG8B instruction for older processors that lacked the instruction, various emulated math routines, along with configuration code that configured the kernel properly for older lower-feature CPUs.\nBasically, if you try to run Linux kernel 6.15 on a 486 going forward, its just not going to work. The kernel will make calls to instructions that the chip has never heard of, and everything will fall over. The same will be true for machines running various non-Pentium 586 chips, like the AMD 586 and Cyrix 586, as well as the AMD Elan. Its likely even some later chips, like the Cyrix 686, might not work, given their questionable or non-existent support of the CMPXCHG8B instruction.\nWhy Now?\nMolnars reasoning for the move was straightforward, as explained in the patch notes:\n\nIn the x86 architecture we have various complicated hardware emulation\nfacilities on x86-32 to support ancient 32-bit CPUs that very very few\npeople are using with modern kernels. This compatibility glue is sometimes\neven causing problems that people spend time to resolve, which time could\nbe spent on other things.\n\nIndeed, it follows on from earlier comments by Torvalds, who had noted how development was being held back by support for the ancient members of Intels x86 architecture. In particular, the Linux creator questioned whether modern kernels were even widely compatible with older 486 CPUs, given that various low-level features of the kernel had already begun to implement the use of instructions like RDTSC that werent present on pre-Pentium processors. Our non-Pentium support is ACTIVELY BUGGY AND BROKEN right now, Torvalds exclaimed in 2022. This is not some theoretical issue, but very much a look, ma, this has never been tested, and cannot actually work issue, that nobody has ever noticed because nobody really cares.\nIntel kept i486 chips in production for a good 18 years, with the last examples shipped out in September 2007. Credit: Konstantin Lanzet, CC BY-SA 3.0\nBasically, the user base for modern kernels on old 486 and early 586 hardware was so small that Torvalds no longer believed anyone was even checking whether up-to-date Linux even worked on those platforms anymore. Thus, any further development effort to quash bugs and keep these platforms supported was unjustified.\nIts worth acknowledging that Intel made its last shipments of i486 chips on September 28, 2007. Thats perhaps more recent than you might think for a chip that was launched in 1989. However, these chips werent for mainstream use. Beyond the early 1990s, the 486 was dead for desktop users, with an IBM spokesperson calling the 486 an ancient chip and a dinosaur in 1996. Intels production continued on beyond that point almost solely for the benefit of military, medical, industrial and other embedded users.\nThird-party chips like the AMD Elan will no longer be usable, either. Credit: Phiarc, CC-BY-SA 4.0\nIf there was a large and vocal community calling for ongoing support for these older processors, the kernel development team might have seen things differently. However, in the month or so that the kernel patch has been public, no such furore has erupted. Indeed, theres nothing stopping these older machines still running Linux\u2014they just wont be able to run the most up-to-date kernels. Thats not such a big deal.\nWhile there are usually security implications around running outdated operating systems, the simple fact is that few to no important 486 systems should really be connected to the Internet anyway. They lack the performance to even load things like modern websites, and have little spare overhead to run antiviral software or firewalls on top of whatever software is required for their main duties. Operators of such machines wont be missing much by being stuck on earlier revisions of the kernel.\nUltimately, its good to see Linux developers continuing to prune the chaff and improve the kernel for the future. Its perhaps sad to say goodbye to the 486 and the gaggle of weird almost-Pentiums from other manufacturers, but if were honest, few to none were running the most recent Linux kernel anyway. Onwards and upwards!\n", "title": "\u300cLinux\u30ab\u30fc\u30cd\u30eb\u3001\u53e4\u3044Intel 486\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u9042\u306b\u7d42\u4e86\u300d", "body": "Linux\u30ab\u30fc\u30cd\u30eb6.15\u304b\u3089Intel 486\u652f\u6301\u3092\u7d42\u4e86\u3002\u53e4\u3044CPU\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u6280\u8853\u7684\u306a\u554f\u984c\u3092\u5f15\u304d\u8d77\u3053\u3057\u3001\u73fe\u4ee3\u5316\u3092\u56f3\u308b\u305f\u3081\u306e\u5909\u66f4\u3002", "titles": ["\u300cLinux\u30ab\u30fc\u30cd\u30eb\u3001\u53e4\u3044Intel 486\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u9042\u306b\u7d42\u4e86\u300d", "\u300c\u30ec\u30ac\u30b7\u30fcCPU\u3078\u306e\u30b5\u30dd\u30fc\u30c8\u524a\u9664\u304c\u3082\u305f\u3089\u3059\u672a\u6765\u306eLinux\u300d", "\u300cLinus Torvalds\u306e\u63d0\u6848\u304c\u5b9f\u73fe\u3001486\u30c1\u30c3\u30d7\u306b\u3055\u3088\u306a\u3089\u300d", "\u300cLinux\u30ab\u30fc\u30cd\u30eb6.15\u3001\u53e4\u3044\u30d7\u30ed\u30bb\u30c3\u30b5\u975e\u5bfe\u5fdc\u306e\u7406\u7531\u300d", "\u300c\u6642\u4ee3\u9045\u308c\u306eCPU\u3068Linux\uff1a\u904e\u53bb\u3092\u632f\u308a\u5207\u308b\u958b\u767a\u306e\u6c7a\u65ad\u300d"]}