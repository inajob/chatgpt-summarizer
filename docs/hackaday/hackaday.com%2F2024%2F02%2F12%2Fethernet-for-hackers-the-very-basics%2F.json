{"pubDate": "2024-02-12T18:00:46", "original_title": "Ethernet For Hackers: The Very Basics", "link": "https://hackaday.com/2024/02/12/ethernet-for-hackers-the-very-basics/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/02/ethernet_cable_featured.png", "original_content": "Ethernet is ubiquitous, fast, and simple. You only need two diffpairs (four wires) to establish a 100Mbit link, the hardware is everywhere, you can do Ethernet over long distances easily, and tons of the microcontrollers and SoCs support it, too. Overall, its a technology you will be glad to know about, and theres hundreds of scenarios where you could use it.\nIf you need to establish a high-bandwidth connection between two Linux boards in your project, or maybe a Linux board and a powerful MCU, maybe make a network between microcontrollers, Ethernets your friend. It also scales wonderfully  theres so much tech around Ethernet, that finding cables, connectors or ICs tends to be dead easy. Plus, the world of Ethernet is huge beyond belief. Ethernet as most of us know it is actually just the consumer-facing versions of Ethernet, and theres a quite a few fascinating industrial and automotive Ethernet standards that flip many of our Ethernet assumptions upside down.\nNow, you might be missing out on some benefits of Ethernet, or perhaps misunderstanding how Ethernet works at all. What does it mean when a microcontroller datasheet says has Ethernet interface? If you see five pins on an SBC and the manufacturer refers to them as Ethernet, what do you even do with them? Why does the Raspberry Pi 4 SoC support Ethernet but still requires an extra chip, and what even is GMII? \nTransmit The Basics\nEthernet is fundamentally about point to point connections  a single cable connecting two devices. If you have multiple devices you want to tie together into a network and Ethernet is what youve got available, youll want to use a switch, or a router with a builtin switch, or something else that has multiple Ethernet ports, then do individual point-to-point links between the switch and your devices, forming a star topology network. It used to be that you could use a coaxial cables for Ethernet and wire a single cable between computers, but those days are long gone, and the speeds were low enough that the major reason to miss those times is nostalgia.\nEthernet ports and cables, demonstrated by cursed-looking but pretty useful adapter\nTheres two versions of Ethernet you will encounter nowadays when it comes to speed  100 Mbps (Mbit/s), often known as 10/100 because it usually also supports the old 10 Mbps mode, and 1 Gbps, known as Gigabit Ethernet. Theres also 2.5 Gbps, slowly becoming more commonplace in higher-end consumer tech like laptops, PCs and routers, but its yet to grace microcontrollers and SBCs, and I wouldnt hold my breath  100 Mbit/s is still enough for a ton of things. 5 Gbps and 10 Gbps are apparently on the horizon, but dont expect to link up at that speed yet, unless you reuse some server card , invest some good money into it, or take time figuring out a cheap way. Of course, thats bits per second, not bytes  if you want to calculate maximum file transmission speed where bytes/second is commonly used, you want to divide by 8, and subtract about 5% for packet overhead.\nPhysically, Ethernet tends to use cabling known as CAT5e, and connectors known as RJ45, with the proper name technically being 8P8C. Both the cables and the connectors are super commonly available, no end of life in sight. So, if you want to connect two boards together in a project of yours, maybe even with a shielded cable, using Ethernet cabling is a good bet  even if your project has no trace of Ethernet to be seen.\nSpeaking of cabling, Ethernet cables most certainly deserve their own part of the article. Lets talk about cabling in as much detail as could be useful for an average hacker.\nAll The Wires\nAn Ethernet CAT5 cable has four twisted pairs inside of it, each one used for a separate differential pair  so, eight wires on total. Higher-speed versions of Ethernet like 2.5 Gbps will often wants higher-grade cabling than CAT5  CAT6 or even CAT7, manufactured to a higher standard, but CAT5 (or CAT5E specifically) is what youll see the most of. Internally, some cables use multi-strand wires and some use solid core wires, and they work best in different scenarios. Short patch cables (known as patchcords) are better with stranded wiring, because its more flexible and easier to handle. However, stranded cables are less durable, and dont work as well at longer distances. For more permanent and longer cabling, people tend to use solid core wiring, as its generally higher-quality, which helps on longer cable runs. Also, theres different types of outer insulation  some are more fireproof, some are less toxic, and some are more resistant to environmental influence like UV light.\nOut of the four pairs, 100 Mbps Ethernet only actually uses two of them, but 1 Gbps Ethernet uses all four. Thats why, on cheap old Ethernet hardware like low-end home routers with 100 Mbps ports, its not uncommon to see Ethernet sockets with only four pins out of eight  saving money by all means possible, after all, the two pairs in the cable would not be used anyway. Theres also hack potential in this, for instance, you can pull two 100 Mbps Ethernet links through a single CAT5 cable  thats how my own Internet uplink used to work for a while about a decade ago, and thats what the adapter pictured above does. And you can pull power through those pins in parallel with the Ethernet uplink, well talk about that later, too!\nSome Ethernet cables have internal shielding, but hardly anyone requires it  its used more in industrial or sensitive environments, and it might be required for higher-speed Ethernet standards too, but its rarely ever seen at home. So, most cables are not shielded, and theyre referred to as UTP (Unshielded Twisted Pair). Theres quite a few types of shielded Ethernet, which you might see referred to as FTP, SFTP, S/UTP or such\u00a0  S- types (Shielded) wrap individual pairs or the cable in copper braid, FTP (Foiled) wraps them with foil, SFTP does both, theres three-four different acronyms for each type of shielding combination, but dont worry, you are not expected to remember this, just refer here or here if you ever need to know more. Also, dont confuse it with SFP, thats different! The type of shielding is typically written on the outer insulation along the length of the cable, too. If you are looking at a bundle of Ethernet cables of all kinds and you just want to find a shielded Ethernet cable for whatever reason, say, your robots internals, good shorthand is looking at the connector  its going to be metal-plated. Oh, and if you want the shield to be effective, at least one end has to actually be connecting that shield to something  many cheap devices dont bother and use connectors fully made of plastic, with no plug shield connections in sight.\nTheres only one standardized Ethernet connector, but there are a few different ways to cook it! In particular, you should know a few things about the standard pair-to-pin mappings, and how to actually terminate the cable in an Ethernet plug.\nPlugs, Crimps And Mappings\nThe usual Ethernet connectors are RJ45, technically correctly referred to as 8P8C. The plugs are easy to find in a wide variety of places, though with both CAT5e cabling and connectors, you dont want to go for the cheapest options possible, especially given how much cabling claims to be a higher category than it actually is. With cheap plugs, theyll be more likely to produce a faulty connection, or have the locking tab break away easily  fixable either through recrimping, strategic application of cable ties, or by using one of the ubiquitous plug sleeves.\nThe locking tabs are brittle enough, that all the fancy cables include some sort of tab protection\nMost consumer-oriented Ethernet cables come with plug connectors put on them, but you can easily build your own Ethernet cables out of unterminated CAT5e lengths and plug connectors, as long as you can crimp the plugs onto the cable. Theres even Ethernet plugs that make the crimping process easier for beginners by letting you cut the wires after you insert them through, instead of painstakingly cutting them to exact same length before insertion! If youre looking to learn how to crimp Ethernet cables, a YouTube tutorial is perhaps the best, and theres no shortage of blog posts with pictures either  crimping is a craft extensively covered online. Theres one thing that you will inevitably need, and thats a crimping tool.\n\n\n\n\nA crimping tool is a handheld jig that compresses the plug pins in a way that makes the individual plug pin blades cut through the wire insulations and make electrical contact, which requires pressure applied very tactically and from a correct angle. You can also try and crimp a plug with household tools, but youll thank yourself for not doing that. Remember, having a proper crimping tool will save you both time and money, as well as a heap of frustration, because debugging Ethernet cables that make intermittent contact is not pleasant in the slightest. The most cheap crimping tools arent great to use and can lead to faulty crimp, so if you are about to do some crimping and got money to invest into proper tools, you will want to get a crimping tool that has great third-party reviews. Alternatively, see if your friendly neighbourhood hackerspace or networks engineer has a crimping tool you can borrow! If you need to test your crimping results, cable testers are cheap, and weve covered quite a few DIY ones.\nNot a good crimp.\nOf course, there are eight wires and eight pins, so you might be wondering  is there a mapping? The good news is  there is indeed! The bad news is  there are two of them. Fortunately, its easy to choose  the T568B mapping is the most commonly one used, with the T568A mapping being way less popular. Wikipedia tries to convince you that T568A is technically the best mapping ever, but you shouldnt listen to it  a random cable in your cable box is way more likely to use T568B than T568A, and same goes for Ethernet cables worldwide.\nYou wont need to learn the mapping, but if you want to, it will be all that easier as soon as you notice that the color and white wire pairs alternate. One quirk  the blue pair is in the connector center, which might feel counterintuitive. Heres a fun fact, though  back in two-pair-utilizing 10/100Mbps days, this pair would sometimes be repurposed in offices, to carry a desk phone line alongside an Ethernet link to a workers desk within a single cable. You have to use the same mapping on both sides of the cable. However, in earlier days, there were cables where you had to use both mappings at different ends. Lets take a small detour and learn about these cables, that you might just encounter if you work on really old tech.\n\n\n\n\nCrossover\nYou might have heard of a thing called crossover cables. These were 10/100 MBps era Ethernet cables where the ends were crimped in two different ways, one in A variant and one in B variant  essentially, crossing RX and TX pairs. Direct (same pinout on both ends) mapping cables were used for switch-to-PC connections, and crossover cables could be used to connect two PCs or switches directly. Reason is, at the time, Ethernet expected you to cross RX and TX pairs ala UART, but ports on devices like switches would have them already crossed for convenience. Of course, this created a fair bit of problems at the time whenever you needed to rewire things.\nHowever, for almost two decades now, crossover cables have been unnecessary, because every self-respecting Ethernet interface has adopted the technology called Auto-MDI-X  it lets you use both crossover and straight cables for connecting anything to anything, automatically detecting RX and TX and adjusting accordingly. You dont need to bother with crossover cables nowadays, they have never been a thing for Gigabit Ethernet, and youll rarely ever find a piece of tech that doesnt support Auto-MDI-X. If you want to learn more about crossover cables and tons of other Ethernet stuff, read here. Its a still good thing to know exists in case youre working with something seriously old thats Ethernet-equipped, or if you stumble upon crossover cable as a term somewhere and wonder if you have a knowledge gap.\nSo Much More To Learn\nWeve covered pinouts, cabling and connectors, and that alone makes for a solid understanding of how Ethernet works at its core, at least as far as consumer tech is concerned. This is the surface-level of Ethernet, that you want to keep in mind as you hack on it further, and if youve had any knowledge gaps, hopefully this article has helped you cement your understanding. If you want to learn more in-depth, Ive linked a couple articles inline  theres never a shortage of Ethernet reading material online! Now, a lot of it is outdated or wrong, but the pages Ive linked here, look pretty alright. Also, here on Hackaday, [Maya Posch] has written about Ethernet before in more depth  check her articles out!\nThere are so many more sides to Ethernet, however  physical level insights, microcontroller and SBC requirements, MII and GMII, MACs and PHYs, magnetics and magjacks, mediaconverters, Power over Ethernet, switch ICs, embedded Ethernet, and a good few more hacker bits and pieces. Next week, with the base knowledge in hand, we shall dive further!\nFeatured image: 10base-T by [gratuit]\n", "title": "\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u306e\u57fa\u672c\u3092\u5b66\u307c\u3046\uff01", "body": "Ethernet\u306f\u666e\u904d\u7684\u3067\u3001\u9ad8\u901f\u3067\u3001\u7c21\u5358\u3067\u3059\u3002100Mbps\u306e\u30ea\u30f3\u30af\u3092\u78ba\u7acb\u3059\u308b\u306b\u306f2\u3064\u306e\u5dee\u52d5\u30da\u30a2\uff084\u672c\u306e\u30ef\u30a4\u30e4\u30fc\uff09\u3060\u3051\u304c\u5fc5\u8981\u3067\u3001\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u304c\u3069\u3053\u306b\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u9577\u8ddd\u96e2\u3067\u3082\u7c21\u5358\u306bEthernet\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u591a\u304f\u306e\u30de\u30a4\u30af\u30ed\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3084SoC\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002Ethernet\u306e\u77e5\u8b58\u306f\u5e45\u5e83\u304f\u4f7f\u3048\u307e\u3059\u3002", "titles": ["\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u306e\u57fa\u672c\u3092\u5b66\u307c\u3046\uff01", "\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30b1\u30fc\u30d6\u30eb\u306e\u7a2e\u985e\u3068\u9078\u3073\u65b9", "\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u306e\u30b3\u30cd\u30af\u30bf\u30fc\u306e\u7a2e\u985e\u3068\u4f7f\u3044\u65b9", "\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u30b1\u30fc\u30d6\u30eb\u306e\u914d\u7dda\u65b9\u6cd5\u3092\u30de\u30b9\u30bf\u30fc\u3057\u3088\u3046\uff01", "\u30a4\u30fc\u30b5\u30cd\u30c3\u30c8\u306e\u77e5\u8b58\u3092\u6df1\u3081\u308b\u305f\u3081\u306b\u8aad\u3080\u3079\u304d\u8a18\u4e8b"]}