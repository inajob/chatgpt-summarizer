{"pubDate": "2025-09-09T14:00:36", "original_title": "FreeCAD Foray: From Brick To Shell", "link": "https://hackaday.com/2025/09/09/freecad-foray-from-brick-to-shell/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2025/08/FreeCAD.jpg", "original_content": "Over a year ago, we took a look at importing a .step file of a KiCad PCB into FreeCAD, then placing a sketch and extruding it. It was a small step, but I know its enough for most of you all, and that brings me joy. Today, we continue building a case for that PCB  the delay is because I stopped my USB-C work for a fair bit, and lost interest in the case accordingly, but Im reviving it now.\nSince then, FreeCAD has seen its v 1.0 release come to fruition, in particular getting a fair bit of work done to alleviate one of major problems for CAD packages, the topological naming problem; we will talk about it later on. The good news is, none of my tutorial appears to have been invalidated by version 1.0 changes. Another good news: since version 1.0, FreeCAD has definitely become a fair bit more stable, and thats not even including some much-needed major features.\nHigh time to pick the work back up, then! Lets take a look at whats in store for today: finishing the case in just a few more extrusions, explaining a few FreeCAD failure modes you might encounter, and giving some advice on how to make FreeCAD for you with minimum effort from your side.\n\nAs I explained in the last article, I do my FreeCAD work in the Part workbench, which is perfectly fine for this kind of model, and it doesnt get in your way either. Today, the Part and Sketcher workbenches are all we will need to use, so you need not be overwhelmed by the dropdown with over a dozen entries  theyre there for a reason, but just two will suffice.\nLast time, I drew a sketch and extruded it into a box. Youll want your own starting layer to look different from that, of course, and so do I. In practice, I see two options here. Either you start by drawing some standoffs that the board rests on, or you start by offsetting your sketch then drawing a floor. The first option seems simpler to me, so lets do that.\nYou can tie the mounting holes to external geometry from the STEP file, but personally, I prefer to work from measurements. Id like to be easily able to substitute the board with a new version and not have to re-reference the base sketches, resulting in un-fun failure modes.\nSo, eyeballing the PCB, the first sketch will have a few blocks that the PCB will be resting on. Lets just draw these in the first sketch  four blocks, with two of them holding mounting holes. For the blocks with holes, if your printer nozzle size is the usual 0.4 mm, my understanding is that youll want to have your thinnest structure be around 1.2 mm. So, setting the hole diameter (refer to the toolbar, or just click D to summon the diameter tool), and for distances between points, you can use the general distance tool (K,D, click K then click D). Then, exit the sketch.\nTo The Floor And Beyond\nPerfect  remember, the first sketch is already extruded, so when we re-drew the sketch, it all re-extruded anew, and we have the block we actually want. Now, remember the part about how to start a sketch? Single click on a surface so it gets highlighted green, press New sketch, and click ok on the box that asks if you want to do it the Plane X-Y way. Thats it, thats your new sketch.\nNow, we need to draw the boxs floor. Thats simple too  just draw a big rectangle. Youll want to get some dimensions going, of course. Here, you can use the general distance constraint (K,D, click K then click D), or constrain even quicker by clicking I (vertical dimension) and L (horizontal dimension). Now, for the fun part  filleting! Simply put, you want to round the box corners for sure, nobody wants a box with jagged sharp holes.\nYou might have seen the Fillet tool in the Part workbench. Well, most of the time, it isnt even needed, and frankly, you dont want to use it if a simpler option exists. Instead, here, just use a sketch fillet  above in the toolbar; sadly, no keybind here. Then, click on corners you want rounded, exit the tool, then set their radius with diameter tool (D), as default radii are way too large at our scale. The sketch fillet tool basically just creates arcs for you  you can always draw the arcs yourself too, but its way easier this way.\nYou got yourself a rounded corners rectangle, which, naturally, means that youll be getting a cease and desist from multiple smartphone makers shortly. You might notice that the rectangle is offset, and really, youd want it aligned. Fortunately, we placed our STEP-imported board approximately in the center of the screen, which makes the job very easy, you just need the rectangle centered. Draw two construction lines (G,N) from opposite corners of the sketch. Then, click on one of the lines, click on the sketch center point, and make them coincident (C). Do the same with the second line, and youll have the sketch center point on the intersection of the two lines, which will make the whole sketch centered.\nExtrude that to 1 mm, or your favourite multiple of your layer height when slicing the print, and thats the base of your case, the part that will be catching the floor. Honestly, for pin insulation purposes, this already is more than enough. Feel free to give it ears so that it can be mounted with screws onto a surface, or maybe cat ears so it can bring you joy. If youre not intimidated by both the technical complexity and the depravity of it, you can even give it human ears, making your PCB case a fitting hacking desk accessory for a world where surveillance has become ubiquitous. In case you unironically want to do this, importing a 3D model should be sufficient.\nBuild Up This Wall!\nMake a sketch at the top of the floor, on the side that youll want the walls to grow out of. For the walls, youll naturally want them to align with the sides of the floor. This is where you can easily use external geometry references. Use the Create external geometry tool (G, X) and click on all the 8 edges (4 lines and 4 arcs) of the floor. Now, simply draw over these external geometry with line and arc tool, making sure that your line start and end points snap to points of external geometry.\nMake an inset copy of the edges, extrude the sketch, and youre good to go. Now, did you happen to end up with walls that are eerily hollowed out? Theres two reasons for that. The first reason is, your extruded block got set to solid: false in its settings. Toggle that back, of course, but mistaken be not, its no accident, it happens when you extrude a sketch and some of the sketch lines endpoints are not as coincident as you intended them to be. Simply put, there are gaps in the sketch  the same kind of gaps you get if you dont properly snap the Edge.Cuts lines in KiCad.\nTo fix that, you can go box-select the intersection points with your mouse, and click C for a coincident constraint. Sometimes the sketch will fail. To the best of my knowledge, its a weird bug in KiCad, and it tends to happen specifically where external geometry to other solids is involved. Oh well, you can generally make it work by approaching it a few times. If everything fails, you can set distance (K,D) to 0, and if that fails, set vertical distance (I) and then horizontal distance (L) to zero, that should be more than good enough.\nAnd with that, the wall is done. But it still needs USB-C socket holes. Cutting holes in FreeCAD is quite easy, even for a newcomer. You make a solid block that goes into your model exactly in the way you want the cut to be made. Then, in Part workbench, click the base model that you want cut in the tree view, click the solid block model, and use the Cut tool. Important note  when using the Cut tool, you have to first click on the base object, and then the tool. If you do it in reverse, you cut out the pieces you actually want to save, which is vaguely equivalent to peeling potatoes and then trashing the potatoes instead of the peels.\nWant a souvenir? In Part toolbox, click Chamfer, click on the USB-C opening edges, set chamfer distance to something lower than your wall thickness, say, 0.6 mm (important!), and press Ok. Now your case has USB-C openings with chamfers that as if direct the plug into the receptacle  its the nicer and more professional way to do USB-C openings, after all.\nStepping Up\nOnce you get past Hello World, and want to speed your FreeCAD work tremendously, you will want to learn the keybinds. Once again, the key to designing quickly and comfortably is having one hand on keyboard and another hand on mouse, doesnt matter if youre doing PCBs or 3D models. And the keybinds are very mnemonic: d is dimension, c is coincident.\nAnother tip is saving your project often. Yet another one is keeping your FreeCAD models in Git, and even publishing them on GitHub/GitLab  sure, theyre binary files, but revision control is worth it even if you cant easily diff the files. We could always use more public 3D models with FreeCAD sources. People not publishing their source files has long been a silent killer of ideas in the world of 3D printing, as opposed to whatever theories about patents might be floating around the web. If you want something designed to your needs, the quickest thing tends to be taking someone elses project and modifying it, which is why we need for sharing culture so that we can all finally stop reinventing all the wheels our projects may require.\nThis is more than enough to ready you up for basic designs, if you ask me. Go get that case done, throw it on GitHub, and revel in knowing your board is that much less likely to accidentally short-circuit. Its a very nice addition for a board intended to handle 100 W worth of power, and now it can also serve as a design example for your own needs. Next time, lets talk about a number of good practices worth attending to if you want your FreeCAD models to last.", "title": "- FreeCAD\u3092\u4f7f\u7528\u3057\u305fKiCad PCB\u30b1\u30fc\u30b9\u306e\u5236\u4f5c\u624b\u9806", "body": "FreeCAD\u3067PCB\u30b1\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u904e\u7a0b\u3084\u3001\u65b0\u6a5f\u80fd\u306b\u3064\u3044\u3066\u8ff0\u3079\u3066\u3044\u308b\u3002", "titles": ["- FreeCAD\u3092\u4f7f\u7528\u3057\u305fKiCad PCB\u30b1\u30fc\u30b9\u306e\u5236\u4f5c\u624b\u9806", "- USB-C\u5bfe\u5fdcPCB\u30b1\u30fc\u30b9\u306e\u8a2d\u8a08\u3068\u88fd\u9020\u65b9\u6cd5", "- FreeCAD 1.0\u4ee5\u964d\u306e\u65b0\u6a5f\u80fd\u3068\u5b89\u5b9a\u6027\u5411\u4e0a", "- \u30b9\u30b1\u30c3\u30c1\u30d5\u30a3\u30ec\u30c3\u30c8\u3092\u7528\u3044\u305f\u9762\u53d6\u308a\u3068\u539a\u307f\u8abf\u6574\u65b9\u6cd5", "- GitHub\u3067\u306eFreeCAD\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7ba1\u7406\u3068\u5171\u6709\u306e\u91cd\u8981\u6027"]}