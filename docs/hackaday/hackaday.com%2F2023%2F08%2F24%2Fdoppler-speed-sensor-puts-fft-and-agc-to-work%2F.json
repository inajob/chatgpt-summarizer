{"pubDate": "2023-08-24T08:00:31", "original_title": "Doppler Speed Sensor Puts FFT and AGC to Work", "link": "https://hackaday.com/2023/08/24/doppler-speed-sensor-puts-fft-and-agc-to-work/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/08/doppler.png", "original_content": "Some people hate to revisit projects that are done and dusted. We get that; its a little like reading a book youve already read when there are so many others to choose from. But rereading a book sometimes reveals subtle nuances you missed the first time around, and revisiting projects can be much the same, as with this new and improved Doppler radar speed sensor.\nWe seem to have been remiss in writing up [Limpkin]s last go-around with the CM324 microwave module, a 24-GHz transceiver that you can pick up on the cheap from the usual sources, but weve featured this handy little module in plenty of other projects. [Limpkin]s current project uses the same module to create a Doppler speed sensor, but with a little more sophistication all around. Whereas the original used a simple comparator to output a square wave thats proportional to the Doppler shift and displayed the speed on a simple terminal session, version two takes a different tack.\nFirst, [Limpkin] opted to implement the whole sensor in hardware. The front end is quite different  an op-amp with 84 dB of gain followed by an automatic gain control (AGC) stage built from a MAX9814 microphone preamp. Extraction of the speed from the module output is left to an STM32F301 running an FFT algorithm on the signal coming out of the analog circuit, which essentially picks out the biggest peak in the spectrum and calculates the Doppler shift from that, displaying the results on an LCD display.\nOf course, as a [Limpkin] project, theres a lot more to it than just that. The write-up is very detailed, going down a few enjoyable rabbit holes like characterizing the amplification chain and diving into the details of Johnson-Nyquist noise to chase down stray oscillations. Theres some great stuff here, and its well worth a deep read; theres also the video below that lets you see (and hear) whats going on.\n\n"}