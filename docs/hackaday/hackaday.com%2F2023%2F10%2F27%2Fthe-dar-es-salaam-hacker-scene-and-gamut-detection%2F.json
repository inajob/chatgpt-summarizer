{"pubDate": "2023-10-27T17:00:26", "original_title": "The Dar es Salaam Hacker Scene and Gamut Detection", "link": "https://hackaday.com/2023/10/27/the-dar-es-salaam-hacker-scene-and-gamut-detection/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/10/tanzaniamain.jpg", "original_content": "Were on a sort of vacation in Tanzania at the moment and staying in a modest hotel away from the tourist and government district. Its a district of small shops selling the same things and guys repairing washing machines out on the sidewalk. The guys repairing washing machines are more than happy to talk. Everybodys amazingly friendly here, the hotel guy grilled us for an hour about our home state. But I really didnt expect to end up in a conversation about computer vision.\nIn search of some yogurt and maybe something cooler to wear, we went on a little walk away from the hotel. With incredible luck we found a robotics shop a few blocks away. Mecktonix is a shop about two meters each way, stuffed full of Arduinos, robots, electronics components, servos, and random computer gear, overseen by [Yohanna Joe Harembo]. Nearby is another space with a laser engraver and 3D printer. The tiny space doesnt stop them from being busy. A constant stream of automotive tech students from the nearby National Institute of Transport shuffle in for advice and parts for class assigned projects.\nIn between students, Joe demos an autonomous car hes working on. In classic hacker fashion, he first has to reattach the motor driver board and various sensors, but then he demos the car and its problem  \u00a0the video frame rate is very slow. We dive in with him and try to get some profiling using time.monotonic_ns(). Hes never done profiling before, so this is a big eye opener. Hes only processing one video frame every 4.3 seconds, using YOLO on a Pi 3, and yup, thats the problem.\u00a0 I suggest he change to gamut detection or a Pi 4.\nGamut Detection\nIf youre not familiar with gamut detection, its one of the simplest of all computer vision techniques, so its easy to implement on slow processors and almost trivial to code. Basically, its look for a color.\u00a0 If you want your robot to follow you, wear a lime green T shirt. Now the robot just has to look for lime green. Same for catching a ball or following a line. The algorithm is simple  convert each pixel to HSV, where hue corresponds to the direction around the color wheel, \u00a0saturation corresponds to how concentrated the color is, and value how bright. Brightness depends on the lighting, so you can throw value away and just set limits for H and S. Anything within those limits is part of our target. The box formed by those limits is our gamut.\nThere are a couple speedups you can apply as well. First, ask yourself how much resolution you need from the camera. If you only want to track a green T shirt thats never less than 24 pixels on screen, turn the resolution down by a factor of six each way and look for four-pixel T shirts. You now have 1/36th as much data to process and your algorithm runs 36 times faster. If you cant control the camera resolution, you can shrink the image or just sample every nth pixel. Second, you can often ask for a YUV or YIQ image from the camera. Discard Y and set your limits in IQ or UV coordinates. Its about the same as HSV.\nJoes eating this up  hes had limited chances to talk with somebody else who is into computer vision. As we write this, hes still trying with YOLO, but at lower resolution. If it doesnt work hell try gamut detection. And its not his only project. Passenger carrying motorcycles called pikipikis are common here. A student has a project to enforce passengers wearing a helmet, and we fiddle with the students project.\nThe Dar es Salaam Scene\nTheres other tech happening in Tanzania too. A few blocks away is [Ruta Electronics], a similar sugar cube sized shop developing smart meters. Everything from cases to PCB etching happens in the tiny shop. Downtown there are a few tech startups. Theres a fab lab, mostly oriented towards children. And on a quiet side street off the main drag, theres a tiny shop with three guys who are hacking like crazy.\nFor us, weve had a chance to make a friend from a different culture and play with a robot car together  what could be better?\u00a0 When youre traveling, are you on the lookout for other hackers or hackerspaces? Its worth the effort and brings our community together in a way that even the internet cant.\n", "title": "\u65c5\u884c\u4e2d\u306b\u5076\u7136\u898b\u3064\u3051\u305f\u30ed\u30dc\u30c6\u30a3\u30af\u30b9\u30b7\u30e7\u30c3\u30d7\u3067\u306e\u9a5a\u304d\u306e\u4f53\u9a13", "body": "\u30bf\u30f3\u30b6\u30cb\u30a2\u306e\u65c5\u884c\u4e2d\u3001\u89b3\u5149\u5730\u3084\u653f\u5e9c\u5730\u533a\u304b\u3089\u96e2\u308c\u305f\u8cea\u7d20\u306a\u30db\u30c6\u30eb\u306b\u6ede\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u6d17\u6fef\u6a5f\u4fee\u7406\u306e\u4eba\u305f\u3061\u304c\u6b69\u9053\u3067\u50cd\u3044\u3066\u3044\u3066\u3001\u5f7c\u3089\u306f\u559c\u3093\u3067\u8a71\u3092\u3057\u307e\u3059\u3002\u3053\u3053\u306f\u8ab0\u3082\u304c\u9a5a\u304f\u307b\u3069\u53cb\u597d\u7684\u3067\u3001\u30db\u30c6\u30eb\u306e\u4eba\u304c\u79c1\u305f\u3061\u306e\u6545\u90f7\u306b\u3064\u3044\u30661\u6642\u9593\u3082\u8a71\u3057\u8fbc\u307f\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30d3\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\u306e\u4f1a\u8a71\u306b\u306a\u308b\u3068\u306f\u601d\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30db\u30c6\u30eb\u304b\u3089\u5c11\u3057\u6b69\u3044\u3066\u30e8\u30fc\u30b0\u30eb\u30c8\u3084\u30af\u30fc\u30eb\u306a\u670d\u3092\u63a2\u3057\u307e\u3057\u305f\u3002\u904b\u826f\u304f\u3001\u6570\u30d6\u30ed\u30c3\u30af\u5148\u306b\u30ed\u30dc\u30c6\u30a3\u30af\u30b9\u30b7\u30e7\u30c3\u30d7\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\u305d\u308c\u306f\u30a2\u30eb\u30c7\u30a3\u30fc\u30ce\u3001\u30ed\u30dc\u30c3\u30c8\u3001\u96fb\u5b50\u90e8\u54c1\u3001\u30b5\u30fc\u30dc\u3001\u3055\u3089\u306b\u306f3D\u30d7\u30ea\u30f3\u30bf\u3092\u5099\u3048\u305f\u5c0f\u3055\u306a\u5e97\u3067\u3059\u3002\u8fd1\u304f\u306b\u306f\u30ec\u30fc\u30b6\u30fc\u30a8\u30f3\u30b0\u30ec\u30fc\u30d0\u30fc\u3082\u3042\u308a\u307e\u3059\u3002\u5b66\u751f\u305f\u3061\u304c\u30a2\u30c9\u30d0\u30a4\u30b9\u3084\u90e8\u54c1\u3092\u6c42\u3081\u306b\u8a2a\u308c\u308b\u305f\u3081\u3001\u5e38\u306b\u8cd1\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u5b66\u751f\u305f\u3061\u306e\u5408\u9593\u306b\u3001\u30e8\u30fc\u306e\u81ea\u5f8b\u8d70\u884c\u8eca\u306e\u30c7\u30e2\u3092\u898b\u305b\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\u30d5\u30ec\u30fc\u30e0\u30ec\u30fc\u30c8\u304c\u975e\u5e38\u306b\u9045\u3044\u305f\u3081\u3001\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\u79c1\u305f\u3061\u306f\u5f7c\u3068\u4e00\u7dd2\u306b\u5206\u6790\u3092\u8a66\u307f\u307e\u3057\u305f\u3002\u5f7c\u306f\u4ee5\u524d\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u3092\u3057\u305f\u3053\u3068\u304c\u306a\u304f\u3001\u3068\u3066\u3082\u8208\u5473\u6df1\u3044\u7d4c\u9a13\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u5f7c\u306fPi 3\u3067YOLO\u3092\u4f7f\u3063\u30661\u3064\u306e\u30d3\u30c7\u30aa\u30d5\u30ec\u30fc\u30e0\u30924.3\u79d2\u3054\u3068\u306b\u51e6\u7406\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\u305d\u308c\u304c\u554f\u984c\u306e\u539f\u56e0\u3067\u3059\u3002\u79c1\u306f\u30ac\u30de\u30c3\u30c8\u691c\u51fa\u307e\u305f\u306fPi 4\u3078\u306e\u5207\u308a\u66ff\u3048\u3092\u63d0\u6848\u3057\u307e\u3057\u305f\u3002\u30ac\u30de\u30c3\u30c8\u691c\u51fa\u306f\u3001\u8272\u3092\u691c\u51fa\u3059\u308b\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30d3\u30b8\u30e7\u30f3\u306e\u624b\u6cd5\u306e\u4e00\u3064\u3067\u3059\u3002\u51e6\u7406\u304c\u9045\u3044\u30d7\u30ed\u30bb\u30c3\u30b5\u3067\u3082\u7c21\u5358\u306b\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\u30d4\u30af\u30bb\u30eb\u3054\u3068\u306bHSV\u306b\u5909\u63db\u3057\u3001\u8272\u76f8\u3001\u5f69\u5ea6\u3001\u660e\u5ea6\u3092\u57fa\u6e96\u306b\u3057\u3066\u5bfe\u8c61\u3092\u898b\u3064\u3051\u307e\u3059\u3002\u753b\u50cf\u306e\u89e3\u50cf\u5ea6\u3092\u4e0b\u3052\u308b\u306a\u3069\u3057\u3066\u51e6\u7406\u3092\u9ad8\u901f\u5316\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30e8\u30fc\u306f\u3053\u306e\u8a71\u306b\u5922\u4e2d\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u5f7c\u306f\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30d3\u30b8\u30e7\u30f3\u306b\u8a73\u3057\u3044\u4eba\u3068\u8a71\u3059\u6a5f\u4f1a\u304c\u9650\u3089\u308c\u3066\u3044\u305f\u306e\u3067\u3059\u3002YOLO\u3067\u306e\u8a66\u884c\u3092\u7d9a\u3051\u308b\u4e00\u65b9\u3067\u3001\u4f4e\u89e3\u50cf\u5ea6\u3067\u3082\u3046\u4e00\u5ea6\u30c8\u30e9\u30a4\u3057\u3066\u307f\u307e\u3059\u3002\u5f7c\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30d8\u30eb\u30e1\u30c3\u30c8\u3092\u7740\u7528\u3057\u3066\u3082\u3089\u3046\u3053\u3068\u3092\u6c42\u3081\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308a\u3001\u79c1\u305f\u3061\u306f\u305d\u308c\u306b\u53d6\u308a\u7d44\u307f\u307e\u3057\u305f\u3002\u4ed6\u306b\u3082\u30bf\u30f3\u30b6\u30cb\u30a2\u3067\u30c6\u30c3\u30af\u95a2\u9023\u306e\u6d3b\u52d5\u304c\u3042\u308a\u307e\u3059\u3002[Ruta Electronics]\u3068\u3044\u3046\u30b9\u30de\u30fc\u30c8\u30e1\u30fc\u30bf\u30fc\u958b\u767a\u306e\u5c0f\u3055\u3044\u5e97\u3084\u3001\u30c0\u30a6\u30f3\u30bf\u30a6\u30f3\u306b\u6570\u30f5\u6240\u306e\u30c6\u30c3\u30af\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u3001\u5b50\u4f9b\u5411\u3051\u306eFab Lab\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306b\u3068\u3063\u3066\u306f\u3001\u7570\u306a\u308b\u6587\u5316\u306e\u53cb\u4eba\u3092\u4f5c\u308a\u3001\u4e00\u7dd2\u306b\u30ed\u30dc\u30c3\u30c8\u30ab\u30fc\u3067\u904a\u3076\u826f\u3044\u6a5f\u4f1a\u3067\u3057\u305f\u3002\u65c5\u884c\u4e2d\u3001\u4ed6\u306e\u30cf\u30c3\u30ab\u30fc\u3084\u30cf\u30c3\u30ab\u30fc\u30b9\u30da\u30fc\u30b9\u3092\u63a2\u3057\u3066\u3044\u307e\u3059\u304b\uff1f\u305d\u308c\u306f\u52aa\u529b\u306e\u4fa1\u5024\u304c\u3042\u308a\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3067\u306f\u3067\u304d\u306a\u3044\u7a0b\u5ea6\u306b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3092\u7d50\u3073\u3064\u3051\u307e\u3059\u3002", "titles": ["\u65c5\u884c\u4e2d\u306b\u5076\u7136\u898b\u3064\u3051\u305f\u30ed\u30dc\u30c6\u30a3\u30af\u30b9\u30b7\u30e7\u30c3\u30d7\u3067\u306e\u9a5a\u304d\u306e\u4f53\u9a13", "\u30b2\u30fc\u30e0\u691c\u51fa\u6280\u8853\u306b\u3088\u308b\u81ea\u52d5\u8eca\u306e\u554f\u984c\u89e3\u6c7a", "\u30c0\u30eb\u30a8\u30b9\u30b5\u30e9\u30fc\u30e0\u306e\u96fb\u5b50\u6a5f\u5668\u30b7\u30e7\u30c3\u30d7\u3067\u306e\u9a5a\u304f\u3079\u304d\u30a2\u30a4\u30c7\u30a2\u3068\u9769\u65b0", "\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30d3\u30b8\u30e7\u30f3\u306b\u8208\u5473\u306e\u3042\u308b\u4eba\u3005\u3068\u306e\u4ea4\u6d41", "\u65c5\u884c\u5148\u3067\u306e\u96fb\u5b50\u5de5\u4f5c\u306e\u697d\u3057\u307f\u3068\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u7d50\u675f"]}