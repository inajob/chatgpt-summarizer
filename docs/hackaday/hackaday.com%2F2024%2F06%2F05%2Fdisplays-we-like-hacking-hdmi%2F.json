{"pubDate": "2024-06-05T17:05:50", "original_title": "Displays We Like Hacking: HDMI", "link": "https://hackaday.com/2024/06/05/displays-we-like-hacking-hdmi/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/07/Displayport.jpg", "original_content": "I dont like HDMI. Despite it being a pretty popular interface, I find crucial parts of it to be alien to what hackers stand for. The way I see it, it manages to be proprietary while bringing a lot of the old cruft in. It doesnt have a native alternative like DisplayPort, so portable implementations tend to suffer power-wise; the connector situation is interesting, and the HDMI Foundation has been doing some weird stuff; in particular, they are pretty hostile to open-source technology.\nThis article is not the place for such feelings, however, especially since Ive expressed them enough in the DisplayPort article. We the hackers deserve to be able to handle the interfaces we stumble upon, and I firmly believe in that way more than in my right to animosity towards HDMI.\nThe HDMI interface is seriously prominent wherever you look, in part because its the interface created by the multimedia companies by the multimedia-involved companies. Over the years weve had it, its been more than sufficient for basically everything we do video-wise, save for the highest resolutions.\nIts also reasonably simple to wire up, hack on, and even bitbang. Lets go through what makes it tick.\nThe Core\nHDMI is, at its core, three differential pairs for data, plus one pair to clock them and in the darkness bind them. Its a digital interface, though it is a fun one. This makes it way more suitable for higher-distance video transmissions than interfaces like VGA, and as long as you stick to relatively low resolutions, HDMI wont have as many asks in terms of PCB layout as DisplayPort might, thanks to HDMI link speeds scaling proportionally with the display resolution.\n\nThe three forms you will see encounter HDMI in, from okay to oh no. By [SIMOBORTOLO], CC BY-SA 4.0As internals go, HDMI is not that far from either VGA or LVDS aka FPD-Link  its still a constant stream of colours, respecting VSYNC and HSYNC. Unlike LVDS, however, bits are not quite transmitted directly  each 8-bit colour gets turned into a 10-bit packet. This scheme has been inherited from DVI, and HDMI has mostly built upon it, though things become more complicated in the latest HDMI generations.\nYou will see the three differential pairs referred as D0/D1/D2, but they do roughly correspond to blue, green and red color data streams in practice. That said, you couldnt simply disconnect all of them and replicate the VGA cable missing colour effect  theres more going on. HSYNC and VSYNC bring quite a bit of blank space with them, intervals where no pixel data is transmitted, and HDMI puts some more useful stuff into these intervals  like audio, which DVI couldnt do, as well as some control messages, like the ones signaling HSYNC and VSYNC.\nHDMI is reasonably simple. If you want to figure out clock frequency for a HDMI link, calculate the pixel clock for your resolution (as mentioned in the parallel RGB article), then multiply it by 10, due to the packing and encoding that has to happen; this is how HDMI signal on a Raspberry Pi manages to jam WiFi at a very specific resolution. This simplicity makes it all that easier to implement in your own project, whether youre using an FPGA or a Pi Pico.\nSide Channels\nThere are a few extra pins you will see in a HDMI connector pinout. These are way more fun than you might know of, and Im not even talking about the I2C as some might guess. For a start, there is the simplest one  its called HPD, and its just hotplug detect. The lore goes, a HDMI display has to pull HPD up to 5V with a 10k resistor; Ive had success just feeding 5V into it, but sticking to the spec is undoubtedly better.\nThen, yes, theres I2C, the SDA and SCL we all know and love. Theyre level-shifted to 5V, but with just two FETs and four resistors, you can treat it as an I2C interface for all intents and purposes. On Intel and AMD computers, you can tap that I2C interface in Linux super easily, even if your GPU (external or internal) is pretty modern, and do things from hardware hacking to driving a separate tiny 12864 I2C OLED screen. Nvidia proprietary drivers are a no-go because they dont expose the interface, and same goes for Windows, unless youre okay with paying a fair bit for a software suite from someone whos reverse-engineered the internal interfaces.\nI2C gives you access to EDID, a display configuration data blob thats standardized by VESA and pretty hackable, as well as DDC  an I2C-exposed interface that lets you control your monitor programmatically. Yes, if youre using Linux, there are a slew of utilities that let you turn your monitor on or off, switch inputs, control brightness and contrast, and a ton of other features youd usually find in your displays on-screen menu so often awkward to navigate.\nI will not be taking questions at this time. By [C0nanPayne], CC BY-SA 4.0Then, theres the less known but pretty fun feature called CEC (Consumer Electronics Control). Its a single-pin multi-drop data bus for controlling over the HDMI cable, letting you do things like adjust volume sliders on your HDMI-equipped receiver, change channels, or much more. The interface and the protocol are standardized, but a ton of device-specific commands are not; that said, its a reverse-engineering treasure trove.\nAnother fun pin is pin 14, known as HEAC. You mightve heard of Ethernet over HDMI and HDMI ARC (Audio Return Channel), and this pin is used for both of these, together with the HPD pin that gets double duty. Last but not least, you get a pin that carries 5V, at, supposedly, 50mA. The 50mA limit is not always adhered to, as you might guess, but its enough to power a good few things nevertheless.\nHacking Galore\nHDMI is simple enough and its seriously abundant, so theres more than enough fun stuff you can do with it. For a start, theres no shortage of projects that output HDMI, or help you output HDMI. From open-source FPGA IP cores to the Pi Pico PIO trick that is now pushing 1080p, from fun ASICs that help us drive DSI screens to homegrown HDMI to LVDS converters, FPGA-backed or not.\nYes, you can use these diffpairs in your own projects, too! By [123df], CC BY-SA 3.0Both the I2C channel and CEC get their minutes of fame every now and then. It might happen that an IC in a product exposes a bootloader over the I2C channel, as the Amazon Fire TV Stick did. If youre okay with wading through the labyrinth that is DDC (or reusing one of the existing libraries), you can build a hardware keypad for controlling your monitor setups. And, since a Raspberry Pi has CEC support exposed to us mere mortals, a Pi connected to your TV can help you control anything else connected to it, like weve seen [Victor] do  alternatively, you could implement CEC on an ATTiny or on a PIC for all your home entertainment mod needs!\nThe HDMI hardware abundance applies to capture cards, too, which is wonderful since theyre a worthwhile tool for hackers  weve even seen open-source ones, as cheaply as $10, and you could build a KVM as cheaply, too. If HDMI cables, as far as they go, are not long enough for you, there are plenty of HDMI to IP solutions, and we see hackers playing with them every now and then.\nTheres also the part of HDMI known as HDCP, a video encryption standard that, in practice, means your display will be black if your hardware isnt HDCP-blessed. The irritance factor makes it a worthwhile bastion for hackers, of course. That said, you dont need a FPGA  if you simply want your hardware to work together without compatibility issues, theres HDMI splitters you can get on Eastern markets, that strip HDCP on their input and conveniently forget to reapply it on one or both of their outputs. And, if your splitter is more conscientious than that, you can always force it to mis-step.\nLearn More\nThis connector has a thousand part numbers. By [Jdbcomputing], CC BY-SA 4.0If you want to hack on HDMI or learn more in depth about what makes it tick, theres a fair amount of resources we have covered and even written ourselves, and even more resources on the wider web. HDMI connectors and cables are available wherever you look, and if you get NDA requests or membership requirements when buying your HDMI-equipped chips in the West, you can always turn to Eastern markets.\nHDMI is not about to leave our homes, and as long as its here, you deserve to know how to hack on it. Its not the only interface thats surprisingly prominent  in fact, next time, we ought to take a look at the DSI interface, surprisingly proprietary yet in everyones pocket, and a treasure trove waiting to be dug into.", "title": "HDMI\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u305f\u96fb\u5b50\u5de5\u4f5c\u306e\u57fa\u672c", "body": "HDMI\u306b\u3064\u3044\u3066\u306e\u8a18\u4e8b\u8981\u7d04\uff1aHDMI\u306b\u5426\u5b9a\u7684\u306a\u611f\u60c5\u3092\u6301\u3061\u306a\u304c\u3089\u3082\u3001\u30cf\u30c3\u30ab\u30fc\u306e\u4fe1\u5ff5\u306b\u5408\u308f\u306a\u3044\u3068\u8003\u3048\u3066\u3044\u308b\u3002HDMI\u306e\u5185\u90e8\u69cb\u9020\u3084\u30a8\u30af\u30b9\u30c8\u30e9\u30d4\u30f3\u3001I2C\u3001CEC\u306a\u3069\u306e\u7279\u5fb4\u304c\u7d39\u4ecb\u3055\u308c\u3066\u304a\u308a\u3001HDMI\u3092\u30cf\u30c3\u30af\u3059\u308b\u65b9\u6cd5\u3084\u53ef\u80fd\u6027\u306b\u3064\u3044\u3066\u3082\u8a18\u8f09\u3002", "titles": ["HDMI\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u3063\u305f\u96fb\u5b50\u5de5\u4f5c\u306e\u57fa\u672c", "HDMI\u30b3\u30cd\u30af\u30bf\u306e\u30d4\u30f3\u30a2\u30b5\u30a4\u30f3\u3068\u88cf\u5074\u306b\u3042\u308b\u4ed5\u7d44\u307f", "HDMI\u306e\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u305f\u30cf\u30c3\u30ab\u30fc\u306e\u305f\u3081\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a2\u30a4\u30c7\u30a2", "HDMI\u3092\u6d3b\u7528\u3057\u305f\u30cf\u30c3\u30ab\u30fc\u5411\u3051\u306e\u30c4\u30fc\u30eb\u3084\u30ea\u30bd\u30fc\u30b9\u7d39\u4ecb", "DisplayPort\u3068\u306e\u6bd4\u8f03\u304b\u3089\u898b\u308bHDMI\u306e\u30cf\u30c3\u30ab\u30fc\u306b\u5bfe\u3059\u308b\u53ef\u80fd\u6027"]}