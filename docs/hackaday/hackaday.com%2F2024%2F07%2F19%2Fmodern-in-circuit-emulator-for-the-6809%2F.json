{"pubDate": "2024-07-20T05:00:48", "original_title": "Modern In-Circuit Emulator for the 6809", "link": "https://hackaday.com/2024/07/19/modern-in-circuit-emulator-for-the-6809/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/07/6809_1.webp", "original_content": "The Motorola 6809, released in 1978, was the follow-up to their 6800 from four years earlier. Its a powerful little chip with many 16-bit features, although its an 8-bit micro at heart. Despite its great improvements over the 6800, and even technical superiority over the Z80 and 6502 (hardware multiply, for example!), it never reached the same levels of success that those chips did. However, there are still some famous systems, such as the TRS-80 Colour Computer, which utilized the chip and are still being hacked on today. [Ted] is clearly a fan of the 6809, as he used a Teensy 4.1 to create a cycle-exact, drop-in 6809 emulator!\nA small interposer board rearranges the Teensy pinout to match the 6809, as well as translating voltage levels from 3.3V to 5V. With careful design, the Teensy matches the cycle diagrams in the Motorola datasheet precisely, and so should be able to run any applications written for the chip! A great test was booting Extended Colour BASIC for the TRS-80 CoCo 2 and running some test BASIC programs. Any issues with opcode decoding or timing would certainly be exposed while running an interpreted language like BASIC. After this successful test, it was time to let the Teensys ARM Cortex-M7 rip and see what it could do.\n\nSimply removing the dummy cycles between opcode fetches (necessary in the original chip) led to an immediate speedup of almost 100%. For many computers that used the 6809, this effectively doubles the clock speed from a typical ~1MHz to 2MHz, which is a noticeable and welcome speedup. Mirroring the ROM and RAM inside the Teensy (apparently overclocked to 800MHz!) led to a ridiculous 800% improvement, making many applications and games essentially unusable  though probably breaking the record for the worlds fastest CoCo in the process.\nThe Teensy emulator plugged into a CoCo 2\nThe real power of in-circuit emulators is for debugging both software and hardware. In-circuit emulators were essential tools back in the day of 8- and even 16-/32-bit microprocessors. Being able to control the processor from an external machine allows you to view the internal state of the chip while stepping a single cycle at a time if needed. This can help expose issues with hardware surrounding the MCU, although many engineers would also use a large, multi-channel logic analyzer at the same time. Common emulators back then would consist of a large box full of many boards packed with circuitry, all connected to a card inserted into an IBM PC or similar. This could also remove the slow process of burning EPROMs and then having to wait for them to be UV erased during prototyping, as many emulators would include SRAM to act as ROM.\nAll in all, we think [Ted] did a terrific job and we are hoping to see the project expand, possibly with PC software to control the emulator and show the internal state, just like back in the 80s!\n", "title": "\u30e2\u30c8\u30ed\u30fc\u30e9 6809\uff1aTeensy\u3092\u4f7f\u7528\u3057\u305f\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u4f5c\u6210", "body": "1978\u5e74\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305fMotorola 6809\u306f\u300116\u30d3\u30c3\u30c8\u306e\u7279\u5fb4\u3092\u6301\u3064\u30d1\u30ef\u30d5\u30eb\u306a8\u30d3\u30c3\u30c8\u30de\u30a4\u30af\u30ed\u30c1\u30c3\u30d7\u3067\u3001Z80\u30846502\u3088\u308a\u3082\u6280\u8853\u7684\u306b\u512a\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6210\u529f\u3057\u305f\u307b\u3069\u3067\u306f\u306a\u304b\u3063\u305f\u3002\u4eca\u3067\u30826809\u3092\u4f7f\u3046\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u308a\u3001Teensy 4.1\u3092\u4f7f\u3063\u305f\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u304c\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002", "titles": ["\u30e2\u30c8\u30ed\u30fc\u30e9 6809\uff1aTeensy\u3092\u4f7f\u7528\u3057\u305f\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u4f5c\u6210", "\u30c6\u30a3\u30fc\u30f3\u30b8\u30fc\u3092\u4f7f\u3063\u305f\u30e2\u30c8\u30ed\u30fc\u30e9 6809\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u88fd\u4f5c", "\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30ec\u30d9\u30eb\u306e\u30e2\u30c8\u30ed\u30fc\u30e96809\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u958b\u767a", "6809\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\uff1a\u901f\u5ea6100%\u5411\u4e0a", "\u30c6\u30a3\u30fc\u30f3\u30b8\u30fc6809\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\uff1a\u5185\u90e8\u72b6\u614b\u3092\u8868\u793a\u53ef\u80fd"]}