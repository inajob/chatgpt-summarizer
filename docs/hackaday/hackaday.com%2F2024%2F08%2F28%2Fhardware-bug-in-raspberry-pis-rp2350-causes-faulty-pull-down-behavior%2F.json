{"pubDate": "2024-08-28T20:00:42", "original_title": "Hardware Bug in Raspberry Pi\u2019s RP2350 Causes Faulty Pull-Down Behavior", "link": "https://hackaday.com/2024/08/28/hardware-bug-in-raspberry-pis-rp2350-causes-faulty-pull-down-behavior/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/08/89ded667f4663b35.jpg", "original_content": "Erratum RP2350-E9 in the RP2350 datasheet, detailing the issue.\nThe newly released RP2350 microcontroller has a confirmed new bug in the current A2 stepping, affecting GPIO pull-down behavior. Listed in the Raspberry Pi RP2350 datasheet as errata RP2350-E9, it involves a situation where a GPIO pin is configured as a pull-down with input buffer enabled. After this pin is then driven to Vdd (e.g. 3.3V) and then disconnected, it will stay at around 2.1  2.2 V for a Vdd of 3.3V. This issue was discovered by [Ian Lesnet]\u00a0 of [Dangerous Prototypes] while working on an early hardware design using this MCU.\nThe suggested workaround by Raspberry Pi is to enable the input buffer before a read, and disable it again immediately afterwards. Naturally, this is far from ideal workaround, and the solution that [Ian] picked was to add external pull-down resistors. Although this negates the benefits of internal pull-down resistors, it does fix the issue, albeit with a slightly increased board size and BOM part count.\nAs for the cause of the issue, Raspberry Pi engineer [Luke Wren] puts the blame on an external IP block vendor. With hindsight perhaps running some GPIO validation tests involving pull-up and pull-down configurations with and without input buffer set could have been useful, but were guessing they may be performed on future Pi chips. Maybe treating the RP2350 A0 stepping as an engineering sample is a good idea for the time being, with A3 (or B0) being the one you may want to use in actual production.\nIn some ways this feels like d\u00e9j\u00e0 vu, as the Raspberry Pi 4 and previous SBCs had their own share of issues that perhaps might have been caught before production.\n(Note: original text listed A0 as current stepping, which is incorrect. Text has been updated correspondingly)"}