{"pubDate": "2024-05-14T14:00:21", "original_title": "Supercon 2023: Building The Ultimate Apple IIe, Decades Later", "link": "https://hackaday.com/2024/05/14/supercon-2023-building-the-ultimate-apple-iie-decades-later/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/05/Supercon-2023_-James-Lewis-Builds-His-Own-Portable-Apple-IIe-33-2-screenshot-2.png", "youtube": "https://www.youtube.com/watch?v=2W", "original_content": "The Apple II was launched in 1977, a full 47 years ago. The Apple IIe came out six years later, with a higher level of integration and a raft of new useful features. Apple eventually ended production of the whole Apple II line in 1993, but that wasnt the end. People like [James Lewis] are still riffing on the platform to this day. Even better, he came to Supercon 2023 to tell us all about his efforts!\n[James]s talk covers the construction of the Mega IIe, a portable machine of his own design. As the name suggests, the project was based on the Mega II chip, an ASIC for which he had little documentation. He wasnt about to let a little detail like that stop him, though.\nThe journey of building the Mega IIe wasnt supposed to be long or arduous; the initial plan was to just wire this chip up as [James] puts it. Things are rarely so simple, but he persevered nonetheless\u2014and learned all about the Apple II architecture along the way.\n\nSimply Mega\n\nFor the unfamiliar, the Mega II contained most of Apple IIe, but condensed down to fit on to one single 84-pin ASIC. It first appeared in 1986, and was used in the Apple IIGS.\u00a0The Mega II chip doesnt contain a CPU, but does contain a lot of the supporting hardware that makes the Apple IIe what it is. The IOU, MMU, video and keyboard ROMs, and keyboard and mouse controller are all there.\n[James] began his work with breadboards and plenty of flywires.In theory, you could wire it up with a CPU, some RAM, and a ROM, and youd have an Apple II. That sounded about right to [James], but as he would soon find out, the reality is more complicated. Had real documentation been available, he might have learned this sooner, but he was flying blind and stuck at it anyway.\n[James]s talk starts by dispelling some myths. The first is that the Mega II is a single-chip Apple II. His own build makes it obvious thats not the case. Beyond that, he also notes that the Apple IIGS didnt use the Mega II for backwards compatibility. It was instead used as a memory controller and for working with classic Apple II video modes and the expansion slots. He also states that the Gemini chip from the Macintosh LC Apple II card is not a Mega II, based on significant differences in registers and general design. He wanted to check on a rumor, too, that the chip was never finished, hence why it was just used as a basic controller in the Apple IIGS. To figure that out, he wanted to prove that you could build a functional Apple II using the Mega II chip salvaged from the IIGS.\nGetting the boot sequence working at all was a challenge.\nEarly work went well. After spinning up a basic board with the Mega II and the necessary hardware, [James] was able to get a text video mode working. It spat out a lot of gibberish, but it was evidence that something was going on. The string Apple ][ even appeared in the output!\nIt wasnt smooth sailing from there, though. Months of debugging ensued, with a logic analyzer showing the computer hed built was making seemingly random jumps all over the place rather than going through a normal boot process. He suspected it was because the chip wasnt finished, but that wasnt the case. Eventually, a friend suggested he check if one of the data bus lines was stuck. It turned out a stuck wire fragment on a solder pad was causing all of his problems. With that fixed, he made a huge leap forward. He saw the message appear\u2014KERNEL OK. Success!\nHowever, he still wasnt at a prompt. He was stuck in a test routine, and didnt have a fully fledged computer. Nonetheless, he knew this meant he was on the right path. If the test routine was behaving appropriately, it suggested the Mega II really did have most of an Apple II living inside it.\nFrom there, the talk goes through the arduous work required to get this thing fully operational. He faced crash after crash as he tried to get a full boot to happen. Once he got that far, he had to try and go from a rats nest of wires and breadboards to something that wouldnt fall apart every time he breathed on it. His final design has some neat features\u2014like the way he built his own motherboard with a connector that let him plug his logic analyzer right in with a single connector.\nRevision 2 used a multi-board design with headers used as backplane connectors.\nBy revision 2, he had the thing built up on a bunch of PCBs with header connectors, and it was even booting from floppy disks. The amount of work it took to get even this far was phenomenal. [James] didnt just have to whip up a motherboard, he had to do all kinds of work to give the thing a working keyboard interface and the ability to read floppy disks. By this point, hed realized that the supposed single chip solution that was the Mega II anything but. Beyond RAM, ROM, and a CPU, it also needed another custom ASIC called SlotMaker, and a keyboard controller. This chip is for handling expansion slots, but it also handles one important signal for the keyboard that makes it essential to the computers proper functioning. Frustrating stuff indeed. Other work involved producing video output over VGA and creating a working sound board.\nThe revision 3 board was neat and compact.\nHis third revision involved consolidating his multi-PCB solution into a working computer on a single PCB. A few mistakes cropped up in the board design, but it wasnt enough to stop [James]. With a little creative bodging, he got the thing operational. Hed managed to build a working computer based around the Mega II ASIC.\nHe may not have been the first to build a Mega II into a working computer; [James] admits that the prototype of the Tiger Learning Computer from Tiger Electronics does serve as an existing example that the Mega II was usable as a fully-fledged machine. But he did manage to do it without any support or documentation from Apple at all. Thats no mean feat.\nItll even run Prince of Persia!\nWatching the talk, its easy to understand why the project took [James] several years to complete. Its always neat to see someone set themself a difficult goal and follow through to completion. Its also rad that [James] was able to teach us so much more about the Mega II that we never knew before. Thats worthy of celebration!"}