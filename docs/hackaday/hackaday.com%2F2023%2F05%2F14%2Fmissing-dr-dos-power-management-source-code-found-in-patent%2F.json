{"pubDate": "2023-05-15T05:00:37", "original_title": "Missing DR-DOS Power Management Source Code Found in Patent", "link": "https://hackaday.com/2023/05/14/missing-dr-dos-power-management-source-code-found-in-patent/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/05/DR-DOS-Idle-Driver.png", "original_content": "Modern processors come with all kinds of power management features, which you dont typically notice as a user until you start a heavy program and hear the CPU fan spin up. Back in the early 1990s however, power management was largely unheard of, meaning that a CPU with nothing to do would run through an idle loop that dissipated about as much power as a real computing task. [Michal Necasek] noticed this while experimenting with DR-DOS 6.0 in a virtual machine  his laptop fan would start running on full blast whenever he opened the VM. His search for a solution to this annoyance led him down a fascinating journey into the intricacies of DOS power management.\nAs it turned out, DR-DOS 6.0 does have functionality built in for putting the CPU in power saving mode when its idle. This feature is not complete, however: Digital Research required each computer manufacturer to develop an IDLE driver customized to their specific hardware platform in order to enable power management. Sadly, no manufacturer ever bothered to do so, leaving [Michal] with no option other than writing a driver himself. While there was some documentation available, it didnt include any example code or sufficient detail to write a driver from scratch.\nWhat it did include was a reference to U.S. Patent No. 5,355,501. Normally this sort of information is of interest only to those planning to sell a competing system, but this specific patent happens to include dozens of pages of well-documented but poorly-scanned x86 assembly code, including source code for a basic IDLE86.SYS driver. As [Michal] wasnt looking forward to chasing bugs caused by OCR errors, he simply copied the source code by hand, then ran it through an assembler. The end result was a working IDLE driver, which is now available for download from his website.\n[Michal]s blog post also includes lots of details on early power saving implementations, including all the DOS interrupt calls involved in the process. Patents might seem boring in contrast, but they sometimes contain surprising amounts of usable information. You might find enough details to reverse-engineer a wireless protocol, or even to help track down an obscure instruments original designer.", "title": "DOS\u96fb\u6e90\u7ba1\u7406\u306e\u5947\u5999\u306a\u6b74\u53f2\uff1a[Michal]\u304c\u624b\u4f5c\u308a\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u4f5c\u6210\u3057\u305f\u8208\u5473\u6df1\u3044\u65c5", "body": "CPU\u306e\u7701\u96fb\u529b\u6a5f\u80fd\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u3001DR DOS 6.0\u306e\u30d0\u30fc\u30c1\u30e3\u30eb\u30de\u30b7\u30f3\u3067\u306e\u5b9f\u9a13\u304b\u3089\u3001\u30d1\u30ef\u30fc\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u304c\u672a\u3060\u6574\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u53e4\u3044\u6642\u4ee3\u306e\u3053\u3068\u3092\u7d39\u4ecb\u3002\u3055\u3089\u306b\u3001Digital Research\u304c\u7279\u5b9a\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u306b\u958b\u767a\u3092\u8981\u6c42\u3057\u305f\u3053\u3068\u3001IDLE\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u3063\u305f\u3053\u3068\u3092\u8aac\u660e\u3057\u306a\u304c\u3089\u3001\u7279\u8a31\u304c\u958b\u767a\u306b\u5f79\u7acb\u3063\u305f\u3068\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\u3002", "titles": ["DOS\u96fb\u6e90\u7ba1\u7406\u306e\u5947\u5999\u306a\u6b74\u53f2\uff1a[Michal]\u304c\u624b\u4f5c\u308a\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u4f5c\u6210\u3057\u305f\u8208\u5473\u6df1\u3044\u65c5", "\u65e7\u578bCPU\u306e\u96fb\u529b\u7ba1\u7406\u306b\u95a2\u3057\u3066\uff1a1990\u5e74\u4ee3\u521d\u982d\u306b\u306f\u3001\u30de\u30cb\u30e5\u30d5\u30a1\u30af\u30c1\u30e3\u30ea\u30f3\u30b0\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u5b58\u5728\u3057\u3066\u3044\u306a\u304b\u3063\u305f", "DR-DOS 6.0\u306b\u304a\u3051\u308bCPU \u30a2\u30a4\u30c9\u30eb\u6642\u306e\u7701\u96fb\u529b\u30e2\u30fc\u30c9 ", "\u7279\u8a31\u306b\u96a0\u3055\u308c\u305f\u6709\u7528\u306a\u60c5\u5831\uff1ax86 \u30a2\u30bb\u30f3\u30d6\u30ea\u30b3\u30fc\u30c9\u3092\u6d3b\u7528\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b", "\u96fb\u5b50\u5de5\u4f5c\u306e\u305f\u3081\u306e\u60c5\u5831\uff1aDOS\u5272\u308a\u8fbc\u307f\u3092\u4f7f\u7528\u3057\u305f\u521d\u671f\u306e\u7701\u96fb\u529b\u9078\u629eImp1ementation"]}