{"pubDate": "2024-02-06T21:00:35", "original_title": "IoT Air Purifier Makes a Great Case Study in Reverse Engineering", "link": "https://hackaday.com/2024/02/06/iot-air-purifier-makes-a-great-case-study-in-reverse-engineering/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/02/reverse_engineering_board.png", "original_content": "Here at Hackaday, about the only thing we like more than writing up tales of reverse engineering heroics is writing up tales of reverse engineering heroics that succeed in jailbreaking expensive widgets from their needless IoT dependency. Its got a real stick it to the man vibe thats hard to resist.\nThe thing is, we rarely see a reverse engineering write-up as thorough as the one [James Warner] did while integrating an IoT air purifier into Home Assistant, so we just had to make sure we called this one out. Buckle up; its a long, detailed post that really gets down into the weeds, but not unnecessarily so. [James] doesnt cloud-shame the appliance manufacturer, so we cant be sure who built this, but its someone who thought itd be a swell idea to make the thing completely dependent on their servers for remote control via smartphone. The reverse engineering effort started with a quick look at the phone app, but when that didnt pay off in any useful way, [James] started snooping on what the device was talking about using Wireshark.\nOne thing led to another, wires were soldered to the serial pins on the ESP32 on the purifiers main board, and with the help of a FlipperZero as a UART bridge, the firmware was soon in hand. This gave [James] clues about the filesystem, which led to a whole Ghidra side quest into learning how to flash the firmware. [James] then dug into the meat of the problem: figuring out the packet structure used to talk to the server, and getting the private key used to encrypt the packets. This allowed a classic man-in-the-middle attack to figure out the contents of each packet and eventually, an MQTT bridge to let Home Assistant control the purifier.\nIf it sounds like we glossed over a lot, we know  this article is like a master class on reverse engineering. [James] pulled a lot of tools out of his kit for this, and the write-up is clear and concise. You may not have the same mystery fan to work with, but this would be a great place to start reverse engineering just about anything.\nThanks to [ThoriumBR] for the tip.", "title": "\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306b\u3088\u308bIoT\u7a7a\u6c17\u6e05\u6d44\u6a5f\u306e\u5236\u5fa1\u306e\u89e3\u653e", "body": "\u30cf\u30c3\u30af\u30c7\u30a4\u306f\u3001\u8c6a\u83ef\u306aIoT\u306b\u4f9d\u5b58\u3057\u306a\u3044\u30b8\u30a7\u30a4\u30eb\u30d6\u30ec\u30a4\u30af\u3055\u308c\u305f\u8cb4\u91cd\u306a\u30ac\u30b8\u30a7\u30c3\u30c8\u306e\u9006\u89e3\u6790\u306e\u30a8\u30d4\u30bd\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u304c\u5927\u597d\u304d\u3067\u3059\u304c\u3001[James Warner]\u3055\u3093\u304cIoT\u7a7a\u6c17\u6e05\u6d44\u6a5f\u3092Home Assistant\u306b\u7d71\u5408\u3057\u306a\u304c\u3089\u9006\u89e3\u6790\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u3092\u66f8\u3044\u305f\u306e\u306f\u3001\u975e\u5e38\u306b\u8a73\u7d30\u3067\u3057\u305f\u306e\u3067\u3001\u7279\u7b46\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5185\u5bb9\u306f\u9577\u304f\u8a73\u7d30\u3067\u3059\u304c\u3001\u7279\u306b\u4e0d\u8981\u306a\u90e8\u5206\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u9006\u89e3\u6790\u306e\u30de\u30b9\u30bf\u30fc\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u8a18\u4e8b\u3067\u3059\u3002", "titles": ["\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306b\u3088\u308bIoT\u7a7a\u6c17\u6e05\u6d44\u6a5f\u306e\u5236\u5fa1\u306e\u89e3\u653e", "\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0: \u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u4f9d\u5b58\u306eIoT\u6a5f\u5668\u306e\u89e3\u6790\u306b\u6210\u529f", "\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u3067\u898b\u3048\u305fIoT\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1\u65b9\u6cd5", "\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306e\u30de\u30b9\u30bf\u30fc\u30af\u30e9\u30b9: \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u89e3\u6790\u304b\u3089\u5236\u5fa1\u307e\u3067", "\u30ea\u30d0\u30fc\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u3067Home Assistant\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u7a7a\u6c17\u6e05\u6d44\u6a5f"]}