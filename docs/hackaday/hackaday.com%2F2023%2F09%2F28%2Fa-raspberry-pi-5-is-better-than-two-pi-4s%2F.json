{"pubDate": "2023-09-28T17:40:46", "original_title": "A Raspberry Pi 5 is Better Than Two Pi 4s", "link": "https://hackaday.com/2023/09/28/a-raspberry-pi-5-is-better-than-two-pi-4s/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/09/pi-5-featured.jpg", "original_content": "What\u2019s as fast as two Raspberry Pi 4s? The brand-new Raspberry Pi 5, that\u2019s what. And for only a $5 upcharge (with an asterisk), it\u2019s going to the new go-to board from the British House of Fruity Single-Board Computers. But aside from the brute speed, it also has a number of cool features that will make using the board easier for a number of projects, and it\u2019s going to be on sale in October. Raspberry Pi sent us one for review, and if you were just about to pick up a Pi 4 for a project that needs the speed, we\u2019d say that you might wait a couple weeks until the Raspberry Pi 5 goes on sale.\nTwice as Nice\nOn essentially every benchmark, the Raspberry Pi 5 comes in two to three times faster than the Pi 4. This is thanks to the new Broadcom BCM2712 system-on-chip (SOC) that runs four ARM A76s at 2.4 GHz instead of the Pi 4\u2019s ARM A72s at 1.8 GHz. This gives the CPUs a roughly 2x  3x advantage over the Pi 4. (Although the Pi 4 was eminently overclockable in the CM4 package.)\nThe DRAM runs at double the clock speed. The video core is more efficient and pushes pixels about twice as fast. The new WiFi controller in the SOC allows about twice as much throughput to the same radio. Even the SD card interface is capable of running twice as fast, speeding up boot times to easily under 10 sec \u2013 maybe closer to 8 sec, but who\u2019s counting?\nHeck, while we\u2019re on factors of two, there are now two MIPI camera/display lines, so you can do stereo imaging straight off the board, or run a camera and external display simultaneously. And it\u2019s capable of driving two 4k HDMI displays at 60 Hz.\nThere are only two exceptions to the overall factor-of-two improvements. First, the Gigabyte Ethernet remains Gigabyte Ethernet, so that\u2019s a one-ex. (We\u2019re not sure who is running up against that constraint, but if it\u2019s you, you\u2019ll want an external network adapter.) But second, the new Broadcom SOC finally supports the ARM cryptography extensions, which make it 45x faster at AES, for instance. With TLS almost everywhere, this keeps crypto performance from becoming the bottleneck. Nice.\nAll in all, most everything performance-related has been doubled or halved appropriately, and completely in line with the only formal benchmarks we\u2019ve seen so far, it feels about twice as fast all around in our informal tests. Compared with a Pi 400 that I use frequently in the basement workshop, the Pi 5 is a lot snappier.\n\nMore Powah!\nNothing comes for free. While the Raspberry Pi 5 is more efficient for the same workload than the Pi 4, you can push it still harder. And when you do, it draws a peak 12 W versus the Pi 4\u2019s peak 8 W. And this is where we get to that price asterisk we mentioned in the opening. You might need to fork out for more power coming into the board, and figure out how to handle the heat coming off of it, if you\u2019re computering hard.\nBut first the good news. The Raspberry Pi 5 has an all-new power subsystem, featuring the DA9091 power-management IC, generating eight separate voltages and capable of supplying 20 A to the BCM2712 SoC. Apparently, this chip was co-developed between Raspberry Pi and Renesas, and it includes a real-time clock unit just because they could squeeze it in. It also supports USB-C Power Delivery, so finding a power supply that\u2019s capable of supplying all that juice to the Pi 5 is a lot easier, something that has been a pain point in the past. Will we never see a brownout warning again? We can dream.\nThe star of the new power management system, hands-down, is the power button. How many power button hacks have we seen over the years? We\u2019re happy to bid them adieu.\nNow the bad news, in the immortal words of Stan Lee: with great power comes great cooling requirements. The Pi 5 runs hot enough that you might require a heatsink, or even an active cooling solution with a fan. Raspberry Pi shipped us an active cooling package to test out, and it plugs into a fan header on the board, so you know they mean business.\nRaspberry Pi has also re-worked their case for the Pi 5, adding a fan with a removable cover, and vents on the underside. And they haven\u2019t forgotten the power button here either \u2013 a small piece of acrylic serves as both a button cap and a power status light. Nice.\nPCIe, For Real This Time\nThe most exciting new feature for people who wish to use the Pi 5 on the desktop is probably the official support for a real PCIe lane. When the Pi 4 came out, it was discovered that it spoke PCIe between the USB controller and the SOC, and of course intercepting those lines was one of the first hacks that we saw on the then-new Pi 4. Then came the CM4, which forced you to design your own board anyway, so you could choose between USB and PCIe. With the Pi 5, you don\u2019t have to choose, and you won\u2019t have to hack on it either.\nBut you will need an adapter. A single PCIe 2.0 lane is broken out to a flat-flex connector, and from there you\u2019ll need an adapter board to connect it up to whichever peripherals you\u2019ve got in mind. Adapters will doubtless come on the market soon, but if you just can\u2019t wait, we\u2019ve got a tutorial series on making your own PCIe devices to help.\nOnce you get the connections sorted out, you might also try pushing it up to PCIe 3.0 speeds. [Jeff Geerling] got a preview hardware adapter from Raspberry Pi, and found that although it\u2019s not certified for PCIe 3.0, it works most of the time at those speeds. With an NVMe hard drive attached, he found that he could get 450 MB/sec using the sanctioned PCIe 2.0, and almost 900 MB/sec by changing a line in /boot/config.txt, enabling the unsupported PCIe 3.0 mode, and crossing his fingers. That was easy.\nUnder the Hood: The RP1 Custom Controller\nPower supply tweaks, including the power button, are down to Raspberry Pi\u2019s cooperation with Renesas. More computational grunt comes from Broadcom\u2019s new SOC. But features like the dual MIPI connectors or the dual USB 3.0 and USB 2.0 ports with enough bandwidth that they don\u2019t crowd out each other or any of the other peripherals, are all due to Raspberry Pi\u2019s in-house innovation here: the custom RP1 interface / southbridge chip.\nAccording to Eben Upton, Raspberry Pi\u2019s CEO, \u201cIt\u2019s basically a chiplet architecture: all the rage now, but very forward-thinking when we started the RP1 development program back in 2016.\u201d Broadcom makes the SOC at a very fine feature scale, while Raspberry Pi can use larger and cheaper processes to handle the rest: Ethernet, USB, MIPI, analog video out, USART, I2C, I2S, PWM, and GPIO \u2013 everything but SDRAM, the SD card, and HDMI.\nThe Raspberry Pi 5 uses PCIe for the backbone between the SOC and their RP1 chip. Four lanes of PCIe, to be exact, providing a 16 Gb/s link between the body and the brains. This is interesting because most chiplet designs are entirely proprietary, and both chips need to speak a common secret language. Here, Raspberry Pi and Broadcom can collaborate, but almost at arm\u2019s length, because there\u2019s nothing proprietary about PCIe. And because they had a spare PCIe channel on the SOC, they were able to break it out for the end user.\nDesoldering the RP1 and doing without all the peripherals it provides, patching the kernel appropriately, and turning the Pi 5 into an all-PCIe, five-channel monstrosity is left as an exercise to the motivated reader.\nOdds and Ends\nThe big yellow composite video-out is gone from the Raspberry Pi 5, but they broke out the lines for you to solder to if you want to hook it up to something other than HDMI. The old audio output jack has been removed entirely, so you\u2019re probably going to have to rely on HDMI audio out or a HAT if you want hi-fi audio. Other connections include PoE on a four-pin header, an ARM debug / UART on a three pin header, and a JST battery connector to keep the real-time clock module ticking.\nSince you might want a heatsink, with fan or without, they\u2019ve added mounting holes spaced around the processor. For space reasons, the MIPI camera/display flat-flex connectors use the thinner form factor that we\u2019ve seen on the Pi Zero, rather than the wider one on the Pi 4.\nRaspberry Pi Evolution\nThe Raspberry Pi 5 is, in some ways, a modest step forward. A two-times speedup isn\u2019t anything to sneeze at, and the various quality-of-life improvements scattered throughout are great, but none of this is revolutionary when you look at the state of play in the SBC market. Still, the Pi 5 is at least twice as nice as the Pi 4, and at only a small upcharge. If you think back six months ago, where people were paying absurd markups for Pi 4s, the Raspberry Pi 5 is positively a bargain. And while there are faster Linux SBCs on the market these days, they also cost a lot more, so the value proposition of the Pi 5 is still solid. Add in Raspberry Pis documentation and software support, and theres a lot here to like.\nThey\u2019re not available in stores just yet, but Raspberry Pi plans to have \u201cjust under a million\u201d Pi 5s produced and in stores over the course of the rest of 2023, so they\u2019re not going to be scarce  we hope! If you need the speed, and can handle the heat, theres no reason not to get a Raspberry Pi 5."}