{"pubDate": "2026-01-15T03:00:44", "original_title": "Making Code a Hundred Times Slower With False Sharing", "link": "https://hackaday.com/2026/01/14/making-code-a-hundred-times-slower-with-false-sharing/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2026/01/benchmarking_false_sharing_keifer_youtube.jpg", "youtube": "https://www.youtube.com/watch?v=WIZf", "original_content": "The cache hierarchy of the 2008 Intel Nehalem x86 architecture. (Source: Intel)\nWriting good, performant code depends strongly on an understanding of the underlying hardware. This is especially the case in scenarios like those involving embarrassingly parallel processing, which at first glance ought to be a cakewalk. With multiple threads doing their own thing without having to nag the other threads about anything it seems highly doubtful that even a novice could screw this up. Yet as [Keifer] details in a recent video on so-called false sharing, this is actually very easy, for a variety of reasons.\nWith a multi-core and/or multi-processor system each core has its own local cache that contains a reflection of the current values in system RAM. If any core modifies its cached data, this automatically invalidates the other cache lines, resulting a cache miss for those cores and forcing a refresh from system RAM. This is the case even if the accessed data isnt one that another core was going to use, with an obvious impact on performance.\nThe worst case scenario as detailed and demonstrated using the Google Benchmark sample projects, involves a shared global data structure, with a recorded hundred times reduction in performance. Also noticeable is the impact on scaling performance, with the cache misses becoming more severe with more threads running.\nA less obvious cause of performance loss here is due to memory alignment and how data fits in the cache lines. Making sure that your data is aligned in e.g. data structures can prevent more unwanted cache invalidation events. With most applications being multi-threaded these days, its a good thing to not only know how to diagnose false sharing issues, but also how to prevent them.\n\n", "title": "- \u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u51e6\u7406\u306b\u304a\u3051\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u91cd\u8981\u6027", "body": "\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u7406\u89e3\u304c\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5411\u4e0a\u306b\u91cd\u8981\u3067\u3001\u7279\u306b\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u51e6\u7406\u3067\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u7121\u52b9\u5316\u304c\u5f71\u97ff\u3059\u308b\u3002", "titles": ["- \u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u51e6\u7406\u306b\u304a\u3051\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u91cd\u8981\u6027", "- \u30d5\u30a9\u30fc\u30eb\u30b9\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306b\u3088\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4f4e\u4e0b\u306e\u30e1\u30ab\u30cb\u30ba\u30e0", "- \u30ad\u30e3\u30c3\u30b7\u30e5\u30df\u30b9\u304c\u3082\u305f\u3089\u3059\u30ea\u30b9\u30af\u3068\u305d\u306e\u5f71\u97ff", "- \u30e1\u30e2\u30ea\u30a2\u30e9\u30a4\u30f3\u30e1\u30f3\u30c8\u3067\u6027\u80fd\u3092\u5411\u4e0a\u3055\u305b\u308b\u65b9\u6cd5", "- \u30a4\u30f3\u30c6\u30ebNehalem\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u6d3b\u7528\u3057\u305f\u52b9\u7387\u7684\u306a\u30b3\u30fc\u30c9\u4f5c\u6210"]}