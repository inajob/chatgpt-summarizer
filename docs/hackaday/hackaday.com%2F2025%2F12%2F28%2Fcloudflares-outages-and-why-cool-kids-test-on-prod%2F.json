{"pubDate": "2025-12-28T12:00:29", "original_title": "Cloudflare\u2019s Outages and Why Cool Kids Test on Prod", "link": "https://hackaday.com/2025/12/28/cloudflares-outages-and-why-cool-kids-test-on-prod/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2025/11/internal_server_error_cloudflare.jpg", "original_content": "Every system administrator worth their salt knows that the right way to coax changes to network infrastructure onto a production network is to first validate it on a Staging network: a replica of the Production (Prod) network. Meanwhile all the developers who are working on upcoming changes are safely kept in their own padded safety rooms in the form of Test, Dev and similar, where Test tends to be the pre-staging phase and Dev is for new-and-breaking changes. This is what anyone should use, and yet Cloudflare apparently deems itself too cool for such a rational, time-tested approach based on their latest outage.\nIn their post-mortem on the December 5th outage, they describe how they started doing a roll-out of a change to React Server Components (RSC), to allow for a 1 MB buffer to be used as part of addressing the critical CVE-2025-55182 in RSC. During this roll-out on Prod, it was discovered that a testing tool didnt support the increased buffer size and it was decided to globally disable it, bypassing the gradual roll-out mechanism.\nThis follows on the recent implosion at Cloudflare when their brand-new, Rust-based FL2 proxy keeled over when it encountered a corrupted input file. This time, disabling the testing tool created a condition in the original Lua-based FL1 where a NIL value was encountered, after which requests through this proxy began to fail with HTTP 500 errors.\u00a0 The one saving grace here is that the issue was detected and corrected fairly quickly, unlike when the FL2 proxy fell over due to another issue elsewhere in the network and it took much longer to diagnose and fix.\nAside from Cloudflare clearly having systemic issues with actually testing code and validating configurations prior to testing on Prod, this ought to serve as a major warning to anyone else who feels that a quick deployment on Prod isnt such a big deal. Many of us have dealt with companies where testing and development happened on Staging, and the real staging on Prod. Even if its management-enforced, that doesnt help much once stuff catches on fire and angry customers start lighting up the phone queue."}