{"pubDate": "2025-02-03T15:00:54", "original_title": "USB Hub-A-Dub-Dub: Weird Edge Cases Are My Ruin", "link": "https://hackaday.com/2025/02/03/usb-hub-a-dub-dub-weird-edge-cases-are-my-ruin/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/04/usb-featured.jpg", "original_content": "The Universal Serial Bus. The one bus to rule them all.\u00a0\u00a0It brought peace and stability to the world of computer peripherals. No more would Apple and PC users have to buy their own special keyboards, mice, and printers. No more would computers sprout different ports for different types of hardware. USB was fast enough and good enough for just about everything youd ever want to plug in to a computer.\nWe mostly think of USB devices as being plug-and-play; that you can just hook them up and theyll work as intended. Fiddle around around with some edge cases, though, and you might quickly learn thats not the case. Thats just what I found when I started running complicated livestreams from a laptop\n\nFool To Try\nYoud think an i7 with 16 GB of RAM would be well equipped to handle some audio software, 40 plugins, and a couple of webcams.\nWhen Im not writing 5,000 words a day as the most forgettable journalist online, Im running a musical livestream on Twitch. I invented Drumbeats and Dicerolls\u2014 a show in which I roll dice in order to write music in Ableton Live. The dice choose the instruments and sometimes even the notes, and then its up to me to turn all that into a coherent song.\nThe concept is simple enough, but on the technical side, it gets a little complicated. Video-wise, I use two webcams\u2014one for me, one to film the dice as I roll them. Thats two USB devices right there. Then I have my mouse and keyboard, both running via a single Logitech wireless dongle. Finally, I have my Steinberg UR22 audio interface\u2014basically a soundcard in an external box that has musician-friendly hookups for professional-grade mics and speakers.\nIt all adds up to four USB devices in total, all with USB-A ports. That doesnt sound like much. Only, since my desktop was stolen, I only have a laptop to run the whole show. That presented an immediate hurdle, as my laptop only has two USB-A ports on board, plus a USB-C port on the rear.\nI figured Id hook up a USB-C hub with a few extra ports, and along with my monitors additional USB hub, Id be all good. Trouble struck as I first attempted to stream in this way. Both webcams worked, with one of them even running through a separate NVIDIA Broadcast tool to do some background removal. However, the audio was problematic. Every ten to twenty seconds or so, the sound would drop out or stutter. It was incredibly jarring for a music stream.\nNot So Simple\nMy Razer Kiyo webcam, complete with aftermarket privacy shield.\nI was frustrated. This was a problem Id never had before. In normal life, Id always just plugged whatever device into whatever USB port with no problems. Even when Id chained hubs off hubs, Id seen little issue, even with high-bandwidth devices like HD webcams or portable hard drives. And yet, here I stood. I was plugging, but the gear wasnt playing.\nAt first, I figured I just had to tweak my software setup. I was using the Steinberg UR-22 via the Windows Wave drivers in Ableton. I figured if I just used the professional-grade ASIO sound driver instead, my stuttering problem would go away. However, then I found that my streaming software couldnt naturally capture audio from this device. This necessitated pulling in the Reastream plugin to truck audio from Ableton into Streamlabs, but that wasnt so hard. I tried a test recording offline, and it all worked great. No stutters, no problems. Only, as soon as I tried streaming live the stuttering was back, in a big way.\nMy Logitech C920E webcam. Forgive the beige walls.\nFor my second stream, I switched things up. I ended up using a USB headset plugged right into my laptops native ports for audio, back with the Windows drivers, and kept the Steinberg UR-22 just for recording vocals into the machine. This worked great, with no stuttering on playback. But I had a new problem\u2014only one of my webcams would work at a time. Oh, and the mic feed from the Steinberg was dropping out randomly, ruining my vocal recordings.\nLooking at the mess of cables and daisy-chained hubs in front of me, I realized I had to simplify. I put the Steinberg device on the most direct hookup, straight to the laptops USB-A port, and set it back up in ASIO mode. Then I connected both webcams to a Lenovo docking station, hooked up by USB-C. I eliminated any extra hubs, ditched the USB headset, and had the most critical device\u2014the Steinberg\u2014connected by a single cable. This had to solve it, right?\nMy Steinberg UR22 interface, which has never faltered at a gig\u2014but flatly refuses to stop stuttering when Im livestreaming.\nWell, the webcams were now humming along nicely, probably because they now had enough power from the docking station instead of an unpowered hub. But were all the problems fixed? Alas, no. Try as I might, the Steinberg device would stutter every few seconds or so. I double-checked that I didnt have a CPU, RAM, or hard drive issue\u2014everything came back clear. But for some reason, two webcams and an ASIO device was making the audio choke.\nBrick Walls\nHours more troubleshooting rushed by. After all this, Ive come to findings that confound me as an engineer. I can run two HD webcams and a USB headset with no dropouts, just using basic Windows audio drivers. And yet, trying to use the Steinberg audio interface, it just falters. Even with the webcams degraded to ultra low resolution! This interface has seen me through thick and thin, but it just wont work under these conditions. Despite the fact its using the same sample rate as the USB headset, and should surely be using a similar amount of bandwidth. Regardless, its driver tells me theres a USB problem and I cant seem to solve it.\nThis error plagues me.\nThe one thing that itches my brain is that the stuttering seems to only happen when Im streaming live online. When Im not streaming video, the Steinberg happily operates as rock-solid as the cheap headset. The thing is, my network connection is via a PCI-Express WiFi chip baked into the laptop, so thats not even a USB thing.\nWhen I started writing this a week ago, I thought Id have solved it by now. Id have a nice clear answer about what went wrong and how I figured it all out. That didnt come to pass.\u00a0Part of me wants to rush out and build a desktop PC with a real amount of ports to see if eliminating hubs and nonsense solves my problems. The other part of me wants to redouble my efforts to track down the issue with every last USB inspection utility out there. Ill probably do the latter and update this article in due course.\nInstead of a neat solution, all Im left with is confusion and a cautionary tale. Just because you can plug a bunch of USB devices together, it doesnt mean theyll all work properly and play nicely together. Our computers are more complicated than we expect, its just theyre better at hiding it from us these days.", "title": "- USB\u306e\u666e\u53ca\u304c\u3082\u305f\u3089\u3057\u305f\u5468\u8fba\u6a5f\u5668\u306e\u5e73\u548c\u3068\u5b89\u5b9a", "body": "USB\u306f\u4fbf\u5229\u3060\u304c\u3001\u6a5f\u5668\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u3063\u3066\u306f\u554f\u984c\u304c\u8d77\u3053\u308b\u3002\u8a2d\u5b9a\u3084\u30c9\u30e9\u30a4\u30d0\u30fc\u8abf\u6574\u304c\u5fc5\u8981\u3002", "titles": ["- USB\u306e\u666e\u53ca\u304c\u3082\u305f\u3089\u3057\u305f\u5468\u8fba\u6a5f\u5668\u306e\u5e73\u548c\u3068\u5b89\u5b9a", "- \u8907\u96d1\u306a\u30e9\u30a4\u30d6\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u6311\u6226\u3057\u305f\u7d50\u679c", "- \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u4e2d\u306e\u97f3\u58f0\u306e\u9014\u5207\u308c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306e\u8a66\u884c\u932f\u8aa4", "- USB\u30c7\u30d0\u30a4\u30b9\u3092\u4f7f\u3044\u3053\u306a\u3059\u305f\u3081\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u91cd\u8981\u6027", "- \u8907\u6570\u306eUSB\u6a5f\u5668\u304c\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u7406\u7531\u3068\u305d\u306e\u6559\u8a13"]}