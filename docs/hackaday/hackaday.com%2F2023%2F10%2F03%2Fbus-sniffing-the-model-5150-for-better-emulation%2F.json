{"pubDate": "2023-10-03T18:30:00", "original_title": "Bus Sniffing the Model 5150 for Better Emulation", "link": "https://hackaday.com/2023/10/03/bus-sniffing-the-model-5150-for-better-emulation/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/10/sniffer_installed02.jpg", "original_content": "At the risk of stating the obvious, a PC is more than just its processor. And if you want to accurately emulate whats going on inside the CPU, youd do well to pay attention to the rest of the machine, as [GloriousCow] shows us by bus-sniffing the original IBM Model 5150.\nA little background is perhaps in order. Earlier this year, [GloriousCow] revealed MartyPC, the cycle-accurate 8088 emulator written entirely in Rust. A cycle-accurate emulation of the original IBM PC is perhaps a bit overkill, unless of course you need to run something like Area 5150, a demo that stretches whats possible with the original PC architecture but is notoriously finicky about what hardware it runs on.\nGetting Area 5150 running on an emulator wasnt enough for [GloriousCow], though, so a deep dive into exactly whats happening on the bus of an original IBM Model 5150 was in order. After toying with and wisely dismissing several homebrew logic analyzer solutions, a DSLogic U3Pro32 logic analyzer was drafted into the project.\nFitting the probes for the 32-channel instrument could have been a problem except for the rarely populated socket for the 8087 floating-point coprocessor on the motherboard. A custom adapter gave access to most of the interesting lines, including address and data buses, while a few more signals, like the CGA sync lines, were tapped directly off the video card.\nCapturing one second of operation yielded a whopping 1.48 GB CSV file, but a little massaging with Python trimmed the file considerably. Thats when the real fun began, strangely enough in Excel, which [GloriousCow] used as an ad hoc but quite effective visualization tool, thanks to the clever use of custom formatting. We especially like the column that shows low-to-high transitions as a square wave  going down the column, sure, but still really useful.\nThe whole thing is a powerful toolkit for exploring the action on the bus during the execution of Area 5150, only part of which [GloriousCow] has undertaken as yet. Well be eagerly awaiting the next steps on this one  maybe itll even help get the demo running as well as 8088MPH on a modded Book8088.", "title": "IBM Model 5150\u306e\u30d0\u30b9\u30b9\u30cb\u30c3\u30d5\u30a3\u30f3\u30b0\u306b\u3088\u308b\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u89e3\u6790", "body": "IBM Model 5150\u306e\u30d0\u30b9\u30b9\u30cb\u30c3\u30d5\u30a3\u30f3\u30b0\u306b\u3088\u308bCPU\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u306b\u3064\u3044\u3066\u306e\u8a18\u4e8b\u3002GloriousCow\u304c\u30db\u30fc\u30e0\u30e1\u30a4\u30c9\u306e\u30ed\u30b8\u30c3\u30af\u30a2\u30ca\u30e9\u30a4\u30b6\u3068Python\u3092\u4f7f\u7528\u3057\u3001\u30a8\u30df\u30e5\u30ec\u30fc\u30c8\u4e2d\u306e\u30d0\u30b9\u306e\u52d5\u4f5c\u3092\u53ef\u8996\u5316\u3002Area 5150\u306e\u30c7\u30e2\u30e9\u30f3\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u3092\u6574\u7406\u4e2d\u3002\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u671f\u5f85\u3002", "titles": ["IBM Model 5150\u306e\u30d0\u30b9\u30b9\u30cb\u30c3\u30d5\u30a3\u30f3\u30b0\u306b\u3088\u308b\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u89e3\u6790", "DSLogic U3Pro32\u30ed\u30b8\u30c3\u30af\u30a2\u30ca\u30e9\u30a4\u30b6\u306e\u6d3b\u7528\u306b\u3088\u308bIBM Model 5150\u306e\u30d0\u30b9\u89e3\u6790", "Python\u3068Excel\u3092\u4f7f\u7528\u3057\u305f\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u89e3\u6790\u30c4\u30fc\u30eb\u306e\u4f5c\u6210", "Area 5150\u306e\u5b9f\u884c\u4e2d\u306e\u30d0\u30b9\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u89e3\u6790\u306b\u3088\u308b\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6539\u5584\u306e\u671f\u5f85", "8088MPH on a modded Book8088\u306b\u5411\u3051\u305f\u30a8\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u89e3\u6790\u306e\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3078\u306e\u671f\u5f85"]}