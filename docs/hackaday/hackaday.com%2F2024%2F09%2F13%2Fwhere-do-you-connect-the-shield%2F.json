{"pubDate": "2024-09-13T17:00:29", "original_title": "Where Do You Connect The Shield?", "link": "https://hackaday.com/2024/09/13/where-do-you-connect-the-shield/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/04/PCBdesign.jpg", "original_content": "When it comes to polarizing and confusing questions in electronics, wiring up shields is on the top-10 list when sorted by popularity. Its a question most of us need to figure out at some point  when you place a USB socket symbol on your schematic, where do you wire up the SHIELD and MP pins?\nOnce you look it up, you will find Eevblog forum threads with dozens of conflicting replies, Stackexchange posts with seven different responses plus a few downvoted ones, none of them accepted, and if you try to consult the literature, the answer will invariably be it depends.\nIm not a connector-ground expert, I just do a fair bit of both reading and hacking. Still, Ive been trying to figure out this debate, for a couple years now, re-reading the forum posts each time I started a new schematic with a yet-unfamiliar connector. Now, of course, coming to this question with my own bias, heres a summary you can fall back on.\nConsumer Ports\nPutting HDMI on your board? First of all, good luck. Then, consider  do you have a reason to avoid connecting the shield? If not, certainly connect the shield to ground, use jumpers if thats what makes you comfortable, though theres a good argument that you should just connect directly, too. The reason is simple: a fair few HDMI cables omit GND pin connections, fully relying on the shield for return currents. When your HDMI connection misfires, you dont want to be debugging your HDMI transmitter settings when the actual No Signal problem, as unintuitive as it sounds, will be simply your shield not being grounded  like BeagleBone and Odroid didnt in the early days. By the way, is a DVI-D to HDMI adapter not working for you? Well, it might just be that its built in a cheap way and doesnt connect the shields of the two sockets together  which is fixable.\n\nPutting an Ethernet port on your board? This is the case where you should probably watch out, to make sure you understand whats happening. Ethernet doesnt use or need ground as such  its a galvanically isolated interface  but if you ground the shield and then use a shielded cable, your ground will go run along the shield. Do you need it? Likely not. Do you want it? Id say its inconclusive. This only applies if your cable has a shield and metal-plated jacks that connect to it: while thats not the norm, its the case for CAT6 and CAT7 cables, which are now pretty common because theyre pretty much required for 2.5 Gbps and above interfaces. Same goes for magjack shields, though watch out, they have a separate ground pin for the internal transformers and circuitry, you do need to wire that up, it wont propagate any further than it might need to.\nEvery coaxial port that has a shield contact, but theres only two contacts in total? This goes from RCA to BNC  the shield is actually often a ground pin, though not everyone might realize this. If it is used as a ground pin, passing the return current through, it has to stay grounded at both ends.\nUSB Ports\nThere are a fair few different USB port connectors and roles you could be putting on your board  heres a quick answer for a somewhat common case. USB-A port thats a host and therefore a power source? Connect the shield to ground. This is what you are universally expected to do, and something that indeed is done basically everywhere you look, bar devices that are being a bit bizarre.\nWhat about a device port, like microUSB, or USB-B, or, hell, miniUSB? Well, the recommendation is leaving two footprints connected to the shield, so you can stuff them with 0-ohm resistors later, or put, say, a resistor-and-capacitor combo there if youre having noise issues. Honestly, it is unlikely to hurt you if you ground it, doubly so if its a power only port  USB is a seriously sensitive interface when it comes to common mode shifts.\nUsing USB-C? Just wire the shield to ground. Do not pass go, do not collect 200, just wire it up to ground. Why? The specification requires you to, so thats an easy call. Its definitely true that, with dual-role ports being abundant, you can no longer really differentiate between host or device, so figuring out shield grounding based on already shaky roles would be a problem. By the way, this is a gift for all of us reverse-engineers out there  finally, a connector with a shield that is guaranteed to be ground-connected!\nNot everyone realizes that the specification explicitly mandates it, and people still think separating shield from ground could be meaningful, including myself as recently as a few months ago. If anyone needs a pointer, tell them to check the USB-C cable and connector specification, revision 2.2. For sockets (receptacles), open page 44 and refer to the note 11, for plugs, open page 78 and refer to the note 6.\nOther Concerns\nThere is some mechanical helpfulness to hard-wiring shield to ground, especially if youre using copper fills without thermals. In my experience, its harder for connectors to break off when they have a plane of solid uninterrupted copper they adhere to! Now, thermals do help soldering a whole bunch, so I dont want to be gung-ho about it, but if youre dealing with a fully surface-mount connector that can get torn off, you might as well go thermal-less just this once. Worked for me on a larger-scale product of mine, to the point I completely stopped getting the problem where microUSB shield pads would get torn off the board. Of course, remember, microUSB with through-hole mounting pins is superiour mechanically  in case you do make the very situational decision to use microUSB.\nThe debate about grounding shields might never end, but if you want a summary, this is what I can say surefire, and I hope it helps. Whats your take?", "title": "USB \u30b3\u30cd\u30af\u30bf\u306e\u30b7\u30fc\u30eb\u30c9\u914d\u7dda\u306b\u3064\u3044\u3066\u306e\u6ce8\u610f\u70b9", "body": "\u6975\u6027\u53cd\u8ee2\u3084\u6df7\u4e71\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u305f\u8a18\u4e8b\u3002\u30b7\u30fc\u30eb\u30c9\u914d\u7dda\u306b\u95a2\u3059\u308b\u30c8\u30c3\u30d710\u306e\u8cea\u554f\u3001USB\u30bd\u30b1\u30c3\u30c8\u8a18\u53f7\u3092\u3069\u3053\u306b\u914d\u7dda\u3059\u308b\u304b\u306b\u3064\u3044\u3066\u8ad6\u70b9\u304c\u3042\u308a\u3001HDMI\u3084Ethernet\u3001USB\u30dd\u30fc\u30c8\u306a\u3069\u306e\u30b7\u30fc\u30eb\u30c9\u63a5\u5730\u306e\u53d6\u308a\u6271\u3044\u65b9\u304c\u89e3\u8aac\u3055\u308c\u3066\u3044\u308b\u3002", "titles": ["USB \u30b3\u30cd\u30af\u30bf\u306e\u30b7\u30fc\u30eb\u30c9\u914d\u7dda\u306b\u3064\u3044\u3066\u306e\u6ce8\u610f\u70b9", "HDMI \u3068 Ethernet \u30dd\u30fc\u30c8\u3078\u306e\u30b7\u30fc\u30eb\u30c9\u63a5\u7d9a\u65b9\u6cd5", "USB-A \u30db\u30b9\u30c8\u30dd\u30fc\u30c8\u3068\u30c7\u30d0\u30a4\u30b9\u30dd\u30fc\u30c8\u306e\u30b7\u30fc\u30eb\u30c9\u914d\u7dda", "USB-C \u30b3\u30cd\u30af\u30bf\u306e\u30b7\u30fc\u30eb\u30c9\u3092\u63a5\u5730\u3059\u308b\u7406\u7531", "\u30b3\u30cd\u30af\u30bf\u306e\u30b7\u30fc\u30eb\u30c9\u3092\u63a5\u5730\u3059\u308b\u30e1\u30ea\u30c3\u30c8\u3068\u6a5f\u68b0\u7684\u306a\u52b9\u679c"]}