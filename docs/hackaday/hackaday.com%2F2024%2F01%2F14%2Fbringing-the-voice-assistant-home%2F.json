{"pubDate": "2024-01-15T03:00:24", "original_title": "Bringing The Voice Assistant Home", "link": "https://hackaday.com/2024/01/14/bringing-the-voice-assistant-home/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/01/after.webp", "original_content": "For many, the voice assistants are helpful listeners. Just shout to the void, and a timer will be set, or Led Zepplin will start playing. For some, the lack of flexibility and reliance on cloud services is a severe drawback. [John Karabudak] is one of those people, and he runs his own voice assistant with an LLM (large language model) brain.\nIn the mid-2010s, it seemed like voice assistants would take over the world, and all interfaces were going to NLP (natural language processing). Cracks started to show as these assistants ran into the limits of what NLP could reasonably handle. However, LLMs have breathed some new life into the idea as they can easily handle much more complex ideas and commands. However, running one locally is easier said than done.\nA firewall with some muscle (Protectli Vault VP2420) runs a VLAN and NIPS to expose the service to the wider internet. For actually running the LLM, two RTX 4060 Ti cards provide the large VRAM needed to load a decent-sized model at a cheap price point. The AI engine (vLLM) supports dozens of models, but [John] chose a quantized version of Mixtral to fit in the 32GB of VRAM he had available.\n\nHowever, how do we get the model to control devices in the home? Including the home state in the system portion of the prompt was easy. Getting instructions for HomeAssistant to follow is harder. While other models support Function calling, Mixtral does not. [John] tweaked the wrapper connecting vLLM and HomeAssistant to watch for JSON at the end. However, the model liked to output JSON at the end even if it wasnt asked to. So [John] added a tag that the model adds when the user has a specific intent.\nIn the end, [John] has an intelligent assistant that controls his home with far more personality and creativity than anything you can buy now. Plus, it runs locally and can be customized to his hearts content.\nIts a great guide with helpful tips to try something similar. Good hardware for a voice assistant can be hard to come by. Perhaps someday well get custom firmware running on the existing assistants we already have to connect to your local assistant server?", "title": "\u81ea\u4f5c\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3067\u5bb6\u96fb\u3092\u64cd\u4f5c\u3057\u3088\u3046\uff01", "body": "\u81ea\u4f5c\u97f3\u58f0\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3092\u4f5c\u308a\u3001\u5bb6\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u3002\u30e2\u30c7\u30eb\u306fMixtral\u3092\u4f7f\u7528\u3057\u3001\u97f3\u58f0\u30b3\u30de\u30f3\u30c9\u306bJSON\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u53ef\u80fd\u3002\u5c06\u6765\u7684\u306b\u65e2\u5b58\u306e\u97f3\u58f0\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306b\u30ab\u30b9\u30bf\u30e0\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u7d44\u307f\u8fbc\u307f\u3001\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002", "titles": ["\u81ea\u4f5c\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3067\u5bb6\u96fb\u3092\u64cd\u4f5c\u3057\u3088\u3046\uff01", "\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u4f5c\u3059\u308b\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306e\u4f5c\u308a\u65b9", "\u500b\u6027\u8c4a\u304b\u306a\u81ea\u4f5c\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u304c\u5bb6\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3092\u62c5\u5f53\u3059\u308b", "\u300cMixtral\u300d\u3092\u4f7f\u7528\u3057\u305f\u81ea\u4f5c\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306e\u69cb\u7bc9\u65b9\u6cd5", "\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u53ef\u80fd\u306a\u30ed\u30fc\u30ab\u30eb\u30dc\u30a4\u30b9\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306e\u88fd\u4f5c\u30ac\u30a4\u30c9"]}