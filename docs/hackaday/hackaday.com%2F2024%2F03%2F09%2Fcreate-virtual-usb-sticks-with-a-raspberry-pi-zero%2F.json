{"pubDate": "2024-03-09T12:00:12", "original_title": "Create Virtual USB Sticks With a Raspberry Pi Zero", "link": "https://hackaday.com/2024/03/09/create-virtual-usb-sticks-with-a-raspberry-pi-zero/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/03/infotainment_usb_playback.jpg", "original_content": "Playing back music files from USB sticks is a common feature these days, and is built-into the infotainment system in [Folkert van Heusden]s Opel Astra. Unfortunately such USB playback features often come with a range of limitations on things like audio codecs, and in the case of [Folkert]s car, a 1000 file limit. This had him looking at an alternative to lugging a lot of USB sticks around to avoid the horror of hearing the same songs within a week while commuting. The solution? Make a Raspberry Pi Zero into a virtual USB mass storage device using the Mass Storage Gadget (MSG) driver in the Linux kernel.\nPicking USB storage as the ideal option here comes mostly from the age of the infotainment system, which lacks Bluetooth, and the audio input jack is rather crackly. Of course, having the Raspberry Pi Zero pretend to be a storage device via the MSG driver wouldnt solve the file limit, but to get around this two Python scripts were written: one which creates images from a folder of music files, and another which randomly picks one of the available images from the Zeros SD card and configures the MSG driver to use it.\nAs for the list of future improvements, there is mounting the RPi Zeros SD card as read-only to deal with the power-off when the car is shut down, and the creating of images requires to be run as root due to the use of loopback devices. As a Proof-of-Concept it does seem to be on the right track.\nIts not just the older infotainment systems that get to have all the fun. If youre lucky enough to have Linux running in the dashboard, you might be little more than a Bash script away from bending the system to your will.", "title": "Raspberry Pi Zero\u3092\u4f7f\u7528\u3057\u3066USB\u30e1\u30e2\u30ea\u30c7\u30d0\u30a4\u30b9\u3092\u6a21\u64ec\u3059\u308b\u65b9\u6cd5", "body": "USB\u30b9\u30c6\u30a3\u30c3\u30af\u304b\u3089\u306e\u97f3\u697d\u518d\u751f\u306f\u4e00\u822c\u7684\u3060\u304c\u3001\u901a\u5e38\u30aa\u30fc\u30c7\u30a3\u30aa\u30b3\u30fc\u30c7\u30c3\u30af\u3084\u30d5\u30a1\u30a4\u30eb\u5236\u9650\u304c\u3042\u308b\u3002\u8eca\u306e\u30d5\u30a1\u30a4\u30eb\u5236\u9650\u3092\u907f\u3051\u308b\u305f\u3081\u3001Raspberry Pi Zero\u3092USB\u30b9\u30c8\u30ec\u30fc\u30b8\u30c7\u30d0\u30a4\u30b9\u306b\u5909\u63db\u3002\u5c06\u6765\u306fRPi Zero\u306eSD\u30ab\u30fc\u30c9\u3092\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306b\u3057\u3001\u753b\u50cf\u751f\u6210\u3092\u6539\u5584\u3002", "titles": ["Raspberry Pi Zero\u3092\u4f7f\u7528\u3057\u3066USB\u30e1\u30e2\u30ea\u30c7\u30d0\u30a4\u30b9\u3092\u6a21\u64ec\u3059\u308b\u65b9\u6cd5", "\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3092\u5229\u7528\u3057\u3066\u8eca\u306e\u97f3\u697d\u30d7\u30ec\u30fc\u30e4\u30fc\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u65b9\u6cd5", "Linux\u30ab\u30fc\u30cd\u30eb\u306eMass Storage Gadget\uff08MSG\uff09\u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u7528\u3057\u3066USB\u518d\u751f\u6a5f\u80fd\u3092\u62e1\u5f35\u3059\u308b\u65b9\u6cd5", "\u8eca\u306e\u30a4\u30f3\u30d5\u30a9\u30c6\u30a4\u30e1\u30f3\u30c8\u30b7\u30b9\u30c6\u30e0\u3092\u6539\u9020\u3059\u308b\u305f\u3081\u306bRaspberry Pi Zero\u3092\u6d3b\u7528\u3059\u308b\u65b9\u6cd5", "\u8eca\u306e\u97f3\u697d\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u5236\u9650\u3092\u514b\u670d\u3059\u308b\u65b9\u6cd5\uff1aRaspberry Pi Zero\u306b\u3088\u308b\u4eee\u60f3USB\u30e1\u30e2\u30ea\u30c7\u30d0\u30a4\u30b9"]}