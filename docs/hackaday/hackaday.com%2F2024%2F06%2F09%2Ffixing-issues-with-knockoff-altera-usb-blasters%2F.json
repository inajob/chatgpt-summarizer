{"pubDate": "2024-06-10T05:00:48", "original_title": "Fixing Issues With Knockoff Altera USB Blasters", "link": "https://hackaday.com/2024/06/09/fixing-issues-with-knockoff-altera-usb-blasters/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/06/altera_usb_blaster_cheapointernals_cropped.jpg", "original_content": "Using an external MCU as a crude clock source for the Altera CPLD. (Credit: [Doug Brown])One exciting feature of hardware development involving MCUs and FPGAs is that you all too often need specific tools to program them, with [Doug Brown] suffering a price tag aneurysm after checking the cost of an official Altera/Intel USB Blaster (yours for $300) to program a MAX 10 FPGA device with. This led him naturally down the path of exploring alternatives, with the $69 Terasic version rejected for being too expensive and opting instead for the Waveshare USB Blaster V2, at a regretful $34. The amazing feature of this USB Blaster clone is that while it works perfectly fine under Windows, it works at most intermittently under Linux.\nThis led [Doug] down the path of reverse-engineering and diagnosing the problem, ultimately throwing in the towel and downclocking the Altera CPLD inside the adapter after finding that it was running a smidge faster than the usual 6 MHz. This was accomplished initially by wiring in an external MCU as a crude (and inaccurate) clock source, but will be replaced with a 12 MHz oscillator later on. Exactly why the problem only exists on Linux and not on Windows will remain a mystery, with Waveshare support also being clueless.\nUndeterred, [Doug] then gambled on a $9 USB Blaster clone (pictured above), which turned out to be not only completely non-functional, but also caused an instant BSOD on Windows, presumably due to the faked FTDI USB functionality tripping up the Windows FTDI driver. This got fixed by flashing custom firmware by [Vladimir Duan] to the WCH CH552G-based board after some modifications shared in a project fork. This variety of clone adapters can have a range of MCUs inside, ranging from this WCH one to STM32 and PIC MCUs, with very similar labels on the case. While cracking one open we had lying around, we found a PIC18 inside, but if you end up with a CH552G-based one, this would appear to fully fix it. Which isnt bad for the merest fraction of the official adapter.\nThanks to [mip] for the tip.", "title": "Altera CPLD\u306b\u5916\u90e8MCU\u3092\u4f7f\u7528\u3057\u305f\u30af\u30ed\u30c3\u30af\u30bd\u30fc\u30b9\u306e\u6d3b\u7528\u65b9\u6cd5", "body": "\u5916\u90e8MCU\u3092\u30a2\u30eb\u30c6\u30e9CPLD\u306e\u6642\u8a08\u30bd\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3002Waveshare USB Blaster V2\u3067\u4e0d\u5177\u5408\u3001Linux\u3067\u306f\u4e00\u90e8\u52d5\u4f5c\u3002\u30af\u30ed\u30fc\u30f3\u30a2\u30c0\u30d7\u30bf\u30fc\u3001Windows\u3067BSOD\u3092\u5f15\u304d\u8d77\u3053\u3059\u3002FTDI\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u554f\u984c\u3092\u30ab\u30b9\u30bf\u30e0\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u4fee\u6b63\u3002MCU\u306e\u7a2e\u985e\u306f\u7570\u306a\u308a\u3001CH552G\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u4fee\u5fa9\u53ef\u80fd\u3002", "titles": ["Altera CPLD\u306b\u5916\u90e8MCU\u3092\u4f7f\u7528\u3057\u305f\u30af\u30ed\u30c3\u30af\u30bd\u30fc\u30b9\u306e\u6d3b\u7528\u65b9\u6cd5", "Terasic\u7248USB Blaster\u3092\u4ee3\u66ff\u3068\u3057\u3066\u4f7f\u7528\u3057\u305fWaveshare USB Blaster V2\u306e\u8a55\u4fa1", "Altera CPLD\u5185\u306e\u6642\u8a08\u5468\u6ce2\u6570\u306e\u30c0\u30a6\u30f3\u30af\u30ed\u30c3\u30af\u306b\u3088\u308bLinux\u306e\u554f\u984c\u306e\u89e3\u6c7a", "Linux\u3067\u306eUSB Blaster\u30af\u30ed\u30fc\u30f3\u306e\u52d5\u4f5c\u554f\u984c\u3068\u30d5\u30e9\u30c3\u30b7\u30e5\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u4fee\u6b63", "USB Blaster\u30af\u30ed\u30fc\u30f3\u30a2\u30c0\u30d7\u30bf\u306b\u542b\u307e\u308c\u308b\u7570\u306a\u308bMCU\u7a2e\u985e\u306b\u3088\u308b\u6027\u80fd\u5dee"]}