{"pubDate": "2023-09-26T14:00:09", "original_title": "A Pulse Of Annoyance About Oscillators, Followed By A Flyback Of A Rant", "link": "https://hackaday.com/2023/09/26/a-pulse-of-annoyance-about-oscillators-followed-by-a-flyback-of-a-rant/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/09/flyback-featured.jpg", "original_content": "Everyone likes to play with high voltages, right?. Even though the danger of death goes up with every volt, its likely that a few readers will have at some time or other made fancy long sparks. Youre reading this so you lived to tell the tale, and wed only ever counsel only doing so safely, but the point of this piece lies not in the volts themselves but in a touch of frustration at the voltage generators. Theres a circuit I see so often which annoys me every single time, so here if you dont mind Im going to deliver both a little rant and a look into flyback converters.\nIts Got Coils, so Its A Transformer\nLinear power supplies with a mains transformer are a surprisingly rare sight now. Dilshan Jayakody, CC BY-SA 2.0.\nHow does a transformer work? An alternating current in a primary winding induces an opposite current in its secondary winding. The voltage out is equal to the turns ratio times the voltage in. Thus if you want to make a high voltage, its simply a case of finding a transformer with the right turns ratio, and applying the right AC to the input.\nA handy choice for a high voltage transformer has been for years a TV line output transformer, also sometimes known as a flyback transformer. You could find these in CRT displays and TVs, and they consist of a square ferrite core with a big chunky high voltage overwinding for the CRT anode circuit and a load of lower voltage windings. TV designers were always out to save on parts costs, so they often had windings for all the voltage rails inside the set as well as the anode voltage, using the timebase as a crude switching power supply.\nIt would not be fair to pick on [Skyler]s circuit alone, as this is one that can be found in many places online. But its not a flyback circuit. (CC BY-SA 3.0) Given a line output transformer, making some high voltage on that EHT winding should just be a case of applying the right AC to the primary and watching the pretty but dangerous sparks. And here comes the circuit which annoys me, because the simplest way to do that is to drive a primary winding from a transistor or maybe two transistors whose base is in turn driven by a feedback circuit. In other words, turn the transformer into the output device in an oscillator, and that generates the required AC.\nThis works. It makes the volts, and we can go home happy, right? Wrong, at least if youre me. The oscillator is an analogue circuit driving the transistor in its linear mode, and with a near 50 % duty cycle. In other words, the transistor spends roughly half its time on and half off, with a bit in the middle where its neither on nor off. This means it gets very hot, and you immediately need a much bigger transistor. The transformer gets hot because the core is saturating, and the whole thing takes several amps of current. its a great heater, but a very inefficient high voltage generator. You can even buy a module on AliExpress thats pretty much this circuit, and I have to say right now that I hate it.\nNot All Transformers Work In A Conventional Manner\nThis Philips TV from back in the day supplies the basic circuit of a flyback driver. The diodes on the right hand side are an integrated voltage multiplier, interacting with the capacitance between windings for their operation.\nIf its so bad then, whats the alternative? The answer should come in looking at the circuit of the TV the transformer came from. There, a transistor switches the primary alongside a deflection coil, but its way more clever than a simple AC transformer circuit. Its both a TV timebase moving the spot horizontally across the screen, and a completely different kind of power supply, a flyback supply.\nWhen the transistor turns on, the current rises through the coils as a ramp. This provides the sawtooth required to move the dot across the screen, but it also slowly builds up the magnetic field in the transformer core. Itll produce a voltage in the secondary, but not the big voltage needed by the CRT. At the end of the dots travel it needs to return to the other side of the screen, so the transistor turns off and the current in the deflection coil falls precipitously. This causes the stored magnetic field in the transformer core to collapse in a very short time, and it induces the huge voltage in that high voltage overwinding. Now a huge high voltage spike is created between the CRT anode output and ground. The CRT is designed to be a high voltage capacitor which acts as a reservoir to build up a constant DC voltage. Ive always understood the use of the term Flyback to describe any supply working in this manner to refer to the period in which the dot on the CRT flies back across to the start of its next line.\nMy annoyance then every time I see a self oscillating converter using a flyback transformer is this: why cant they use a flyback circuit, all they have to do is find a TV service manual or two and maybe add a 555 as a pulse generator! But aside from that, the elegant hack devised by a TV designer decades ago has of course morphed into a circuit thats a vital weapon in the power supply designers arsenal. Most flyback supplies youll see these days arent used to make the huge voltages for a CRT, instead they find a place wherever a higher voltage is required than can easily be made with a boost converter. Theres a little more complexity in that the simple inductor is replaced by a flyback transformer, and if youre paying attention its not quite wired as youd expect a simple transformer step-up supply to work, but when the right magnetic is paired with the right control chip its an extremely efficient way to make more volts than you can otherwise get your hands on.\nFor their curious position somewhere between the analogue and digital worlds, switching regulators have always fascinated me. Theres no better document I can think of for anyone new to the field, and particular new to flyback converters, than Jim Williams\u2019 1987 app note 25 for Linear Technology: \u201cSwitching Regulators for Poets\u201c. Enjoy making volts, and stay safe!\nHeader image: ZngZng, CC BY-SA 3.0.", "title": "\u9ad8\u96fb\u5727\u3092\u6271\u3046\u65b9\u6cd5\uff1a\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30b3\u30f3\u30d0\u30fc\u30bf\u30fc\u306e\u5229\u70b9\u3068\u6b20\u70b9", "body": "\u9ad8\u96fb\u5727\u3067\u904a\u3076\u306e\u306f\u697d\u3057\u3044\u304c\u3001\u5b89\u5168\u306a\u9ad8\u96fb\u5727\u5909\u63db\u5668\u306e\u56de\u8def\u304c\u8cb4\u91cd\u3002\u7c21\u5358\u306a\u30c8\u30e9\u30f3\u30b8\u30b9\u30bf\u72b6\u614b\u306e\u30aa\u30b7\u30ec\u30fc\u30bf\u3067\u9ad8\u96fb\u5727\u3092\u751f\u6210\u3067\u304d\u308b\u304c\u3001\u52b9\u7387\u7684\u3067\u306f\u306a\u3044\u3002\u4ee3\u308f\u308a\u306b\u3001\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u5909\u63db\u5668\u306e\u5229\u70b9\u3092\u6d3b\u304b\u3057\u3001TV\u30b5\u30fc\u30d3\u30b9\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u53c2\u8003\u306b\u3059\u3079\u3057\u3002", "titles": ["\u9ad8\u96fb\u5727\u3092\u6271\u3046\u65b9\u6cd5\uff1a\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30b3\u30f3\u30d0\u30fc\u30bf\u30fc\u306e\u5229\u70b9\u3068\u6b20\u70b9", "\u9ad8\u96fb\u5727\u3092\u4f5c\u308b\u305f\u3081\u306e\u4fbf\u5229\u306a\u9078\u629e\u80a2\uff1a\u30c6\u30ec\u30d3\u306e\u56de\u8def\u304b\u3089\u5f97\u3089\u308c\u308b\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30c8\u30e9\u30f3\u30b9", "\u5b89\u5168\u304b\u3064\u52b9\u7387\u7684\u306a\u9ad8\u96fb\u5727\u767a\u751f\u88c5\u7f6e\uff1a\u30c6\u30ec\u30d3\u306e\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30c8\u30e9\u30f3\u30b9\u3092\u4f7f\u3063\u305f\u56de\u8def", "\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30c8\u30e9\u30f3\u30b9\u306e\u4f7f\u7528\u65b9\u6cd5\uff1a\u81ea\u5df1\u632f\u52d5\u578b\u30b3\u30f3\u30d0\u30fc\u30bf\u30fc\u3068\u306e\u6bd4\u8f03\u691c\u8a0e", "\u96fb\u6e90\u8a2d\u8a08\u8005\u306e\u5fc5\u9808\u30c4\u30fc\u30eb\uff1a\u30d5\u30e9\u30a4\u30d0\u30c3\u30af\u30c8\u30e9\u30f3\u30b9\u3092\u4f7f\u3063\u305f\u52b9\u7387\u7684\u306a\u9ad8\u96fb\u5727\u4f9b\u7d66"]}