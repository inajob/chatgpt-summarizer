{"pubDate": "2026-01-15T09:00:30", "original_title": "Windows? Linux? Browser? Same Executable", "link": "https://hackaday.com/2026/01/15/windows-linux-browser-same-executable/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2026/01/snake.png", "original_content": "Weve been aware of projects like Cosmopolitan that allow you to crank out a single executable that will run on different operating systems. [Kamila] noticed that the idea was sound, but that the executables were large and there were some limitations. So she produced a 13K file that will run under Windows, Linux, or even in a Web browser. The program itself is a simple snake game.\nThere seems to be little sharing between the three versions. Instead, each version is compressed and stitched together so that each platform sees what it wants to see. To accommodate Windows, the file has to start with a PE header. However, there is enough flexibility in the header that part of the stub forms a valid shell script that skips over the Windows code when running under Linux.\nSo, essentially, Windows skips the garbage in the header, which is the part that makes Linux skip the garbage in the front of the file.\nThat leaves the browser. Browsers will throw away everything before an HTML tag, so thats the easy part.\nShould you do this? Probably not. But if you needed to make this happen, this is a clear template for how to do it. If you want to go back to [Kamilas] inspiration, weve covered Cosmopolitan and its APE format before."}