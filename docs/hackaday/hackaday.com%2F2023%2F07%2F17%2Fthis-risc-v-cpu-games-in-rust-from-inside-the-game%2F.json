{"pubDate": "2023-07-18T02:00:26", "original_title": "This RISC-V CPU Games in Rust from Inside the Game", "link": "https://hackaday.com/2023/07/17/this-risc-v-cpu-games-in-rust-from-inside-the-game/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2023/07/Terraria.png", "original_content": "[Xander Naumenko] has created something truly impressive  a working RISC-V CPU completely contained in a Terraria world. And then for added fun, he wrote the game of pong, playable in real time, from within the game of Terraria. Its all based on the in-game wiring system, combined with a bit of a hack that uses the faulty lamp mechanic to create a very odd AND gate. In Terraria, the existing logic gates have timing issues that make them a no-go for complicated projects like this one. The faulty lamp is intended to do randomized outputs, by stacking multiple inputs to get a weighted output when a clock signal is applied. The hack is to simply give this device a single input, turning it into a clocked IF gate. Two of them together in series makes a clocked AND gate, and two in parallel make a clocked OR gate.\nWhy would [Xander] embark on this legendary endeavor? Apparently after over eight thousand hours clocked in game, one gets a bored of killing slimes and building NPC houses. And playing with the games wiring system turned on a metaphorical lightbulb, that the system could be used to build interesting systems. A prototype CPU, with a completely custom instruction set came next, and was powerful enough to compute Fibonacci. But that obviously wasnt enough. Come back after the break for the rest of the story and the impressive video demonstration.\n\nSurprisingly, playing three months playing Terraria has improved my career prospects.\nAfter this prototype worked, the obvious next step was to use the RISC-V specification to build a rv32i processor. And a display. Because the CPU must be able to game. The full version has a problem, though. Its huge, and Terraria really, really isnt designed for wiring projects this complicated. So naturally, [Xander] just rolled up his sleeves and re-wrote the Terraria wiring system, in the form of the WireHead mod. By a series of tricks, like looking at wires as a whole, instead of each individual tile, he managed to make the cpu run at a blistering 5 MHz. Fast enough for pong, but slow enough that Conways Game of Life has to be watched in fast forward.\nThe whole thing is very reminiscent of the Nand2Tetris course, as well as the equally impressive Minecraft computers weve covered before. And theres even more fun to come for Computerraria, as a low-res Doom clone is being worked on, as well as video playback for the well known Bad Apple. Its all open source, and ridiculously well put together, so go take a look!\n", "title": "\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9\u30b2\u30fc\u30e0Terraria\u5185\u3067\u52d5\u4f5c\u3059\u308bRISC-V CPU\u306e\u4f5c\u6210", "body": "[Xander Naumenko]\u306f\u3001Terraria\u306e\u4e16\u754c\u5185\u306b\u5b8c\u5168\u306b\u7d44\u307f\u8fbc\u307e\u308c\u305f\u52d5\u4f5c\u3059\u308bRISC-V CPU\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u4e0a\u3001Terraria\u5185\u3067\u904a\u3079\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306ePong\u30b2\u30fc\u30e0\u3082\u4f5c\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u30b2\u30fc\u30e0\u5185\u306e\u914d\u7dda\u30b7\u30b9\u30c6\u30e0\u3068\u3001\u6545\u969c\u3057\u305f\u30e9\u30f3\u30d7\u6a5f\u69cb\u3092\u4f7f\u7528\u3057\u305f\u30cf\u30c3\u30af\u306b\u57fa\u3065\u3044\u3066\u3044\u307e\u3059\u3002Terraria\u306e\u30ed\u30b8\u30c3\u30af\u30b2\u30fc\u30c8\u306f\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u554f\u984c\u304c\u3042\u308a\u3001\u3053\u306e\u3088\u3046\u306a\u8907\u96d1\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f\u9069\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3068\u3068\u3082\u306bRISC-V\u4ed5\u69d8\u3092\u4f7f\u7528\u3057\u3066rv32i\u30d7\u30ed\u30bb\u30c3\u30b5\u3092\u69cb\u7bc9\u3059\u308b\u3068\u3044\u3046\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3082\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u5168\u4f53\u7684\u306b\u306fNand2Tetris\u30b3\u30fc\u30b9\u3084Minecraft\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3068\u4f3c\u3066\u304a\u308a\u3001\u4f4e\u89e3\u50cf\u5ea6\u306eDoom\u30af\u30ed\u30fc\u30f3\u3084\u30d3\u30c7\u30aa\u518d\u751f\u306a\u3069\u3001\u3055\u3089\u306a\u308b\u697d\u3057\u307f\u304c\u5f85\u3063\u3066\u3044\u307e\u3059\u3002", "titles": ["\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9\u30b2\u30fc\u30e0Terraria\u5185\u3067\u52d5\u4f5c\u3059\u308bRISC-V CPU\u306e\u4f5c\u6210", "Terraria\u3092\u4f7f\u3063\u3066\u904a\u3079\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306ePong\u30b2\u30fc\u30e0", "\u7279\u6b8a\u306aAND\u30b2\u30fc\u30c8\u3092\u4f5c\u308b\u30cf\u30c3\u30af\u6280\u8853\u306e\u7d39\u4ecb", "Terraria\u5185\u3067\u52d5\u4f5c\u3059\u308bRISC-V\u30c8\u30a5\u30fc\u30ea\u30a2\u30eb\u30d7\u30ed\u30bb\u30c3\u30b5\u306e\u69cb\u7bc9", "\u30b2\u30fc\u30e0\u5185\u306e\u914d\u7dda\u30b7\u30b9\u30c6\u30e0\u3092\u6539\u826f\u3057\u3066\u9ad8\u901f\u52d5\u4f5c\u3059\u308bCPU\u3092\u5b9f\u73fe"]}