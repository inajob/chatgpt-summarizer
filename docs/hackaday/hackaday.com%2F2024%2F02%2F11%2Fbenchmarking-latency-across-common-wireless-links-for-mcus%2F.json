{"pubDate": "2024-02-11T15:00:00", "original_title": "Benchmarking Latency Across Common Wireless Links For MCUs", "link": "https://hackaday.com/2024/02/11/benchmarking-latency-across-common-wireless-links-for-mcus/", "source": "https://hackaday.com/blog/feed/", "thumbnail": "https://hackaday.com/wp-content/uploads/2024/02/module_assortment.jpg", "original_content": "Although factors like bandwidth, power usage, and the number of (kilo)meters reach are important considerations with wireless communication for microcontrollers, latency should be another important factor to pay attention to. This is especially true for projects like controllers where round-trip latency and instant response to an input are essential, but where do you find the latency number in datasheets? This is where [Michael Orenstein] and [Scott] over at Electric UI found a lack of data, especially when taking software stacks into account. In other words, it was time to do some serious benchmarking.\nThe question to be answered here was specifically how fast a one-way wireless user interaction can be across three levels of payload sizes (12, 128, and 1024 bytes). The effective latency is measured from when the input is provided on the transmitter, and the receiver has processed it and triggered the relevant output pin. The internal latency was also measured by having a range of framework implementations respond to an external interrupt and drive a GPIO pin high. Even this test on an STM32F429 MCU already showed that, for example, the STM32 low-level (LL) framework is much faster than the stm32duino one.\n\nAfter a bit more checking for overhead within the MCU itself with various approaches, the actual tests were performed. The tests involved modules for SiK, LoRa, nRF24, Bluetooth SPP (ESP32, HC-5), Bluetooth LE (Bluedroid  NimBLE on ESP32, as well as the nRF52), ESP-NOW (ESP32), 802.15.4 (used by Zigbee, Matter, Thread, etc.) and of course WiFi. The software stack used had a big impact on some of these, such as for BLE, but WiFi differed a lot on the ESP32, whether using TCP or overlaying Websockets (about 10x slower).\nWhats clear is that to get low latency with wireless communication you need to do more than just pick the right technology or module, but also understand and work with the entire software stack to tweak and optimize it for the best performance. For those interested in the raw data, firmware, and post-processing scripts, these can be found on GitHub.\nWeve looked at low-latency hacks before. Testing which protocol is best is a staple for RC enthusiasts.\nCredit: Electric UI.", "title": "\"\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u306b\u304a\u3051\u308b\u4f4e\u9045\u5ef6\u306e\u305f\u3081\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\"", "body": "\u7121\u7dda\u901a\u4fe1\u306e\u4f4e\u9045\u5ef6\u5316\u306b\u306f\u6280\u8853\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u6700\u9069\u5316\u3082\u91cd\u8981\u3002\u3055\u307e\u3056\u307e\u306a\u7121\u7dda\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3057\u3001\u6700\u9069\u306a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5f15\u304d\u51fa\u3059\u65b9\u6cd5\u3092\u7d39\u4ecb\u3002\u8a73\u7d30\u306fGitHub\u3067\u3002", "titles": ["\"\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u306b\u304a\u3051\u308b\u4f4e\u9045\u5ef6\u306e\u305f\u3081\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\"", "\"\u30de\u30a4\u30af\u30ed\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u306b\u304a\u3051\u308b\u9045\u5ef6\u6642\u9593\u306e\u6bd4\u8f03\u30c6\u30b9\u30c8\"", "\"\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3068\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u6700\u9069\u5316\u306b\u3088\u308b\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u306e\u9045\u5ef6\u524a\u6e1b\"", "\"\u4f4e\u9045\u5ef6\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u6700\u9069\u306a\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u9078\u629e\u65b9\u6cd5\"", "\"\u30ef\u30a4\u30e4\u30ec\u30b9\u901a\u4fe1\u306b\u304a\u3051\u308b\u30da\u30a4\u30ed\u30fc\u30c9\u30b5\u30a4\u30ba\u306e\u5f71\u97ff\u306b\u95a2\u3059\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c6\u30b9\u30c8\""]}